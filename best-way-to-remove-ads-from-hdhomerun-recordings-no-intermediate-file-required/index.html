<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Best way to remove ads from HDHomeRun recordings (no intermediate file required) - end2end zone</title>
<meta name="description" content="end2end zone">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="twitter:card" content="summary_large_image">

<meta property="og:site_name" content="end2end zone">
<meta property="og:title" content="Best way to remove ads from HDHomeRun recordings (no intermediate file required)">
<meta property="og:description" content="end2end zone">
<meta property="og:type" content="article">
<meta property="og:url" content="http://www.end2endzone.com/best-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required/">
    <meta property="og:image" content="http://www.end2endzone.com/wp-content/uploads/2015/10/Remove-ads-from-HDHomerun-recording-featured-image.jpg">
    <meta property="og:image:alt" content="">


  <link rel="manifest" href="/favicon/site.webmanifest?v=1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png?v=1">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png?v=1">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png?v=1">
  
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg?v=1" color="#ffffff">
    <link rel="shortcut icon" href="/favicon/favicon.ico?v=1">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml?v=1">
  
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">


  <meta name="generator" content="Hugo 0.147.9">
  
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/a11y-dark.min.css">
          <link rel="stylesheet" href="/css/bundle.min.150c477221f0a4cd774059ec37d705d2dfd096e42675af327b9fc2bbbbaebf45.css" integrity="sha256-FQxHciHwpM13QFnsN9cF0t/QluQmda8ye5/Cu7uuv0U="><link rel="stylesheet" href="/css/add-on.css">
        <link rel="stylesheet" href="/css/end2endzone.css">
        <link rel="stylesheet" href="/css/button.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          Blog
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/" class="nav link"><i class='fa fa-home'></i> Home</a>
        
      
        
          
          <a href="/about" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="/blog" class="nav link"><i class='far fa-newspaper'></i> Blog</a>
        
      
        
          
          <a href="/categories" class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
        
      
        
          
          <a href="/tags" class="nav link"><i class='fas fa-sitemap'></i> Tags</a>
        
      
        
          
          <a href="/contact" class="nav link"><i class='far fa-envelope'></i> Contact</a>
        
      
      <a href="#share-menu" class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    <a href="#share-menu" class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="nav lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  <menu id="lang-menu" class="flyout-menu menu">
  <a href="#" lang="en" class="nav link active">English (en)</a>
  
    
      
    
      
        <a href="/fr" lang="fr" class="nav no-lang link">Fran√ßais (fr)</a>
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29&amp;url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;title=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;title=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;description=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by &amp;body=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="/img/main/logo.jpg" class="circle" width="100" alt="Hey that&#39;s me" /></a>
  <header>
    <h1>end2end zone</h1>
  </header>
  <main>
    <p>My life dumped to a web site</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        









































      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article>
    <div class="post">
      <header>
  <div class="title">
    
      <h2><a href="/best-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required/">Best way to remove ads from HDHomeRun recordings (no intermediate file required)</a></h2>
    
    
  </div>
  <div class="meta">
    <time datetime="2016-01-16 22:19:34 &#43;0000 &#43;0000">January 16, 2016</time>
    <p>end2end</p>
    <p>11-Minute Read</p>
  </div>
</header>

	  
      
      
        <div id="socnet-share">
          




  
    
    <a href="//twitter.com/share?text=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29&amp;url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;title=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;title=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f&amp;description=Best%20way%20to%20remove%20ads%20from%20HDHomeRun%20recordings%20%28no%20intermediate%20file%20required%29" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by &amp;body=http%3a%2f%2fwww.end2endzone.com%2fbest-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


        </div>
      
	  
      <div class="content">
        <a href="/best-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required/" class="image" style="--bg-image: url('/wp-content/uploads/2015/10/Remove-ads-from-HDHomerun-recording-featured-image.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2015/10/Remove-ads-from-HDHomerun-recording-featured-image.jpg" alt="">
  </a>
		
        
        
          
<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
          Table of contents
        </span>
    </div>
    <div class="expand-content" style="display: none;">
      <aside>
        <nav id="TableOfContents">
  <ol>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#whats-the-trick-">What&rsquo;s the trick ?</a></li>
    <li><a href="#download--install-required-software">Download &amp; Install required software</a>
      <ol>
        <li><a href="#register-virtualdub-avifile-handler">Register VirtualDub AVIFile handler</a></li>
        <li><a href="#virtualdub-ffmpeg-input-plugin">VirtualDub FFMpeg Input Plugin</a></li>
        <li><a href="#avisynth">Avisynth</a></li>
        <li><a href="#pismo-file-mount-audit-package">Pismo File Mount Audit Package</a></li>
        <li><a href="#avfs">AVFS</a>
          <ol>
            <li><a href="#installing-version-1005-and-previous-versions">Installing version 1.0.0.5 (and previous versions)</a></li>
            <li><a href="#installing-version-1006-and-previous-versions">Installing version 1.0.0.6 (and previous versions)</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#instructions">Instructions</a>
      <ol>
        <li><a href="#chaining-application">Chaining application</a></li>
        <li><a href="#open-video-file-in-virtualdub">Open video file in Virtualdub</a></li>
        <li><a href="#cut-ads--video-section">Cut ads / video section</a></li>
        <li><a href="#video-codec-selection">Video codec selection</a></li>
        <li><a href="#audio-codec">Audio codec</a></li>
        <li><a href="#start-virtualdubs-frame-server">Start VirtualDub&rsquo;s frame server</a>
          <ol>
            <li><a href="#missing-frameclients-issue-">Missing frameclients issue ?</a></li>
          </ol>
        </li>
        <li><a href="#avisynth-custom-script">AviSynth Custom Script</a></li>
        <li><a href="#workspace">Workspace</a></li>
        <li><a href="#mounting">Mounting</a>
          <ol>
            <li><a href="#using-avfs-1005">Using AVFS 1.0.0.5</a></li>
            <li><a href="#using-avfs-1006">Using AVFS 1.0.0.6</a></li>
          </ol>
        </li>
        <li><a href="#test-the-virtual-avi-file">Test the virtual AVI file</a></li>
        <li><a href="#encode-final-video-with-handbrake">Encode final video with Handbrake</a></li>
      </ol>
    </li>
    <li><a href="#what-you-get">What you get</a></li>
  </ol>
</nav>
      </aside>
    </div>
</div>

        
		
        <h1 id="introduction">Introduction</h1>
<p>This guide is a follow up to the post called</p>
<p><a href="/how-to-remove-ads-from-hdhomerun-recordings-and-still-encode-with-handbrake/">How to remove ads from HDHomeRun recordings and still encode with Handbrake</a>. I record lots of TV shows using the HDHomeRun. I sometime want to keep recordings on a disk for archiving or to watch later. The following article explains how to remove ads from HDHomeRun recordings and encode the final video with Handbrake without quality loss. The whole process is executed using only FREE tools!</p>
<p>With all TV shows comes a bunch of TV ads that I do not want to keep and waste time and disk space for. I encode all my videos using</p>
<p><a href="https://handbrake.fr/downloads.php">Handbrake</a> because it supports quality based H264 encoding and 5.1 surround sounds but unfortunately, it does not support removing ads.</p>
<h1 id="whats-the-trick-">What&rsquo;s the trick ?</h1>
<p>The trick is to use VirtualDub&rsquo;s frame server ability and other software to create a virtual file instead of an intermediate file as</p>
<p><a href="http://www.end2endzone.com/how-to-remove-ads-from-hdhomerun-recordings-and-still-encode-with-handbrake/">my old guide</a>¬†suggests. This option is much faster (takes 1 minute instead of hours) and uses much less disk space (2 KB instead of 8 GB) since there is no intermediate file to encode. VirtualDub is still required to cut ads as you would normally do. The process is also lossless (it does not add any quality degradation). Once the virtual file is generated (mounted), use Handbrake to encode the final video for best results.</p>
<h1 id="download--install-required-software">Download &amp; Install required software</h1>
<p>The following software must be downloaded and installed:</p>
<ul>
<li><a href="http://www.virtualdub.org/download.html">VirtualDub 1.10.4</a></li>
<li><a href="http://sourceforge.net/projects/virtualdubffmpeginputplugin/files/">Virtualdub FFMpeg Input Plugin</a></li>
<li><a href="http://sourceforge.net/projects/avisynth2/">Avisynth 2.6</a></li>
<li><a href="http://www.turtlewar.org/avfs/">AVFS 1.0.0.5 - Avisynth Virtual File System</a></li>
<li><a href="http://www.pismotechnic.com/pfm/">Pismo File Mount Audit Package (build 173)</a></li>
<li><a href="https://handbrake.fr/downloads.php">Handbrake 0.10.2</a></li>
</ul>
<h2 id="register-virtualdub-avifile-handler">Register VirtualDub AVIFile handler</h2>
<p>For the process to work, you must register the AVIFile handler on your computer. After installing VirtualDub, run the following file:</p>
<p><img src="http://www.end2endzone.com/wp-content/uploads/2015/12/auxsetup-exe-icon.png" alt="VirtualDub auxsetup.exe icon">  <em>auxsetup.exe</em>. The following dialog will be displayed:</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/12/VirtualDub-auxsetup.exe-Dialog.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/12/VirtualDub-auxsetup.exe-Dialog.jpg" alt="VirtualDub auxsetup.exe Dialog"></a></p>
<p>VirtualDub auxsetup.exe Dialog
Click on the</p>
<p><em>Install handler</em> button and the following dialog will be displayed:</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/12/VirtualDub-Installing-AVIFile-frameclient.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/12/VirtualDub-Installing-AVIFile-frameclient.jpg" alt="VirtualDub Installing AVIFile frameclient"></a></p>
<p>VirtualDub Installing AVIFile frameclient
Click on</p>
<p><em>OK</em> button and you should get the following confirmation message: <em>AVIFile frameclient install successful</em>.</p>
<h2 id="virtualdub-ffmpeg-input-plugin">VirtualDub FFMpeg Input Plugin</h2>
<p>By default, VirtualDub is only able to read AVI files which is not helpful because my local channels are broadcasting in MPEG2 format. For instance, Montreal&rsquo;s CBFT-DT is broadcasting in HDV 720p, MPEG layer 2, with two AC-3 audio channels. Full</p>
<p><a href="/wp-content/uploads/2015/10/Montreal-CBFT-DT-Codec-NFO.nfo">NFO available here</a>. This plugin allows reading files that are not AVI and works perfectly with Montreal&rsquo;s CBFT-DT MPEG 2 files. The installation is pretty strait forward, simply run the installer and select the location of where VirtualDub is installed. Once the process is completed, you should see the plugin available (*.vdf) within the <em>plugins32</em> folder.</p>
<h2 id="avisynth">Avisynth</h2>
<p>Avisynth as its name implies is an AVI file generator. The Avisynth web site describes their tool as &quot;</p>
<p><em>a scripting language and a collection of filters for simple (and not so simple!) non-linear video editing tasks. It frameserves video to applications</em>&quot;. In this scenario, Avisynth is used to parse VirtualDub&rsquo;s frame server reference file (*.vdr) and wrap the results as an AVI file for AVFS to use. To install, run the installer and follow the on-screen instructions.</p>
<h2 id="pismo-file-mount-audit-package">Pismo File Mount Audit Package</h2>
<p>&quot;</p>
<p><em>Pismo File Mount is an operating system extension that enables application controlled virtual and user mode file systems. Using Pismo File Mount, applications can expose all kinds of program and user data through the file system interface</em>&quot;. This software does not have any interaction with the user but it is required by AVFS to create the virtual folder containing the virtual files (*.AVI, *.WAV).</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/12/Pismo-File-Mount-Audit-Package-Install.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/12/Pismo-File-Mount-Audit-Package-Install.jpg" alt="Pismo File Mount Audit Package Install"></a></p>
<p>Pismo File Mount Audit Package Install
To install, run</p>
<p><em>pfmap-173-win.exe</em> and following the on-screen instructions.</p>
<h2 id="avfs">AVFS</h2>
<p>AVFS is the heart of the whole process. It allows the user to create a virtual file from an Avisynth script file using the</p>
<p><em>Pismo File Mount</em> system extension. &ldquo;<em>AVFS is a virtual file system that exposes the output of Avisynth scripts through the file system as a set of virtual media files. This allows Avisynth to feed media applications and converters that do not use the VFW API</em>&rdquo;. In this scenario, AVFS is used to create the virtual AVI file for Handbrake to use.</p>
<h3 id="installing-version-1005-and-previous-versions">Installing version 1.0.0.5 (and previous versions)</h3>
<p>Version 1.0.0.5 (and previous versions) are released with</p>
<p><em>avfs.dll</em>. To install, run the following commands:</p>
<ol>
<li>
<p>Copy <em>avfs.dll</em> to a folder of your choosing. The <em>c:\windows</em> folder will work or use any other folder.</p>
</li>
<li>
<p>Open a <em>cmd prompt</em> by clicking on the <em>Start Menu</em> and enter <em>cmd.exe</em> and press <em>Enter</em>.</p>
</li>
<li>
<p>Type <em>pfm register c:\windows\avfs.dll</em>. This will register <em>avfs.dll</em> to the <em>Prismo File Mount</em> application. To uninstall, run the following commands:</p>
</li>
<li>
<p>Open a <em>cmd prompt</em> by clicking on the <em>Start Menu</em> and enter <em>cmd.exe</em> and press <em>Enter</em>.</p>
</li>
<li>
<p>Type <em>pfm unregister c:\windows\avfs.dll</em>.</p>
</li>
<li>
<p>Delete the <em>c:\windows\avfs.dll</em> file.</p>
</li>
</ol>
<h3 id="installing-version-1006-and-previous-versions">Installing version 1.0.0.6 (and previous versions)</h3>
<p>AVSF 1.0.0.6 is not compatible with build 173 of Pismo File Mount. Build 178 must be downloaded to be able to create a virtual file. Version 1.0.0.6 (and future versions) are released with</p>
<p><em>avfs.exe</em>. To install, run the following commands:</p>
<ol>
<li>Copy <em>avfs.exe</em> to a folder of your choosing. The <em>c:\windows</em> folder will work or use any other folder. To uninstall, delete the</li>
</ol>
<p><em>c:\windows\avfs.exe</em> file.</p>
<h1 id="instructions">Instructions</h1>
<h2 id="chaining-application">Chaining application</h2>
<p>The basic principle in this procedure is to chain application one after the other. The output from a software becomes the input of the next and so on until the video &amp; audio streams reaches handbrake. The process is as follows:</p>
<p>MPEG2 recording  VirtualDub  Editing  VirtualDub <em>.vdscript file (Editing backup)¬† VirtualDub frame serving (</em>.vdr file)  Avisynth script (*.avs)  AVSF  Virtual *.AVI file  Handbrake encoding.</p>
<h2 id="open-video-file-in-virtualdub">Open video file in Virtualdub</h2>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-default-video.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-default-video.jpg" alt="VirtualDub default video"></a></p>
<p>VirtualDub default video</p>
<ul>
<li>Click on <em>File</em> menu.</li>
<li>Click on <em>Open video file&hellip;</em></li>
<li>Browse to your MPEG2 video file.</li>
</ul>
<h2 id="cut-ads--video-section">Cut ads / video section</h2>
<p>Virtualdub is the best video editing application I know. It supports video resizing, splitting, joining, filters but mostly removing ADS!</p>
<ul>
<li>
<p>Move the cursor to the first frame of an ad. Note: you can use your keyboard arrows to move 1 frame forward or backward to set the cursor at the exact desired frame.</p>
</li>
<li>
<p>Click on <em>Edit</em> menu and select <em>Set Selection Start</em> to mark the beginning of the ad. You can also press the <a href="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-Set-Selection-Start.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-Set-Selection-Start.jpg" alt="VirtualDub Set Selection Start"></a> button.</p>
</li>
<li>
<p>Move the cursor to the last frame of the same ad.</p>
</li>
<li>
<p>Click on <em>Edit</em> menu and select <em>Set Selection End</em> to mark the end of the ad. You can also press the <a href="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-Set-Selection-End.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/10/VirtualDub-Set-Selection-End.jpg" alt="VirtualDub Set Selection End"></a> button.</p>
<ol>
<li>This will highlight the area that will be cut out of the final video: <a href="http://www.end2endzone.com/wp-content/uploads/2015/10/Virtualdub-Selection.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/10/Virtualdub-Selection.jpg" alt="Virtualdub Selection"></a></li>
</ol>
<p>Virtualdub Selection</p>
<ol start="2">
<li>Click on <em>Edit</em> menu and select <em>Delete</em> to remove the selection from the video. You can also press the <em>Delete</em> key on your keyboard.</li>
<li>Repeat all steps for each ads.</li>
<li>Once all ad sections are removed, save your modifications in case something happens.</li>
<li>Click on <em>File</em> menu and select <em>Save processing settings&hellip;</em></li>
<li>Save your modifications to a VirtualDub script file (*.vdscript) file</li>
</ol>
</li>
</ul>
<h2 id="video-codec-selection">Video codec selection</h2>
<p>Since we are chaining application one into the other, there is no need to use video codec compression between application. Compressing frames between application will only slow down the speed at which each frames are pushed in the chain. You computer is more than capable dealing with uncompressed frames even in full HD resolution. You also reduce the risk of loosing quality between applications so leave the video compression to &quot;</p>
<p><em>Uncompressed RGB/YCbCr</em>&quot;. The final video compression will occur within Handbrake.</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/Virtualdub-Uncompressed-RGB-Video-Codec-Selection.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/Virtualdub-Uncompressed-RGB-Video-Codec-Selection.png" alt="Virtualdub Uncompressed RGB Video Codec Selection"></a></p>
<p>Virtualdub Uncompressed RGB Video Codec Selection</p>
<ul>
<li>Click on <em>Video</em> menu and select <em>Compression</em>&hellip;</li>
<li>Select _Uncompressed RGB/YCbCr _</li>
</ul>
<h2 id="audio-codec">Audio codec</h2>
<p>There is no need to use any compression codec for the audio. A typical TV show is 45 minutes long which only takes ~2.9 GiB (66 MiB / min) for 5.1 Surround sound and ~495 MiB (11 MiB / min) for Stereo sound. Transferring this amount of data within memory should not be an issue. The final audio compression codec selection will occur within Handbrake.</p>
<ol>
<li>Click on <em>Audio</em> menu and select <em>Full Processing Mode</em>.</li>
</ol>
<h2 id="start-virtualdubs-frame-server">Start VirtualDub&rsquo;s frame server</h2>
<p>Now that your are done editing and removing ads from your video, you need to enable VirtualDub&rsquo;s frame server.</p>
<ul>
<li>Click on <em>File</em> menu.</li>
<li>Select <em>Start frame server</em>&hellip;</li>
<li>Enter a location for the VirtualDub AVIFile signpost (*.vdr) file. Click <a href="/wp-content/uploads/2015/11/1021_20150405183000.vdr">here</a> for a sample file generated by VirtualDub. The following dialog should be displayed:</li>
</ul>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-options-window.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-options-window.png" alt="VirtualDub Frameserver Options Window"></a></p>
<p>VirtualDub Frameserver Options Window</p>
<ul>
<li>Leave options as is. It does not matter what you put here.</li>
<li>Click on <em>Start</em> button to start the frame server. The following dialog will be displayed:</li>
</ul>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-mode.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-mode.png" alt="VirtualDub Frameserver Mode"></a></p>
<p>VirtualDub Frameserver Mode
The frameserver is now ready to provide frames to other applications. Leave the dialog running until the encoding with handbrake is complete. Press</p>
<p><em>Stop serving</em> button to return to VirtualDub&rsquo;s editing mode. A safe way to know if VirtualDub is done serving frames is to look at the &ldquo;<em>Number of frames served</em>&rdquo; value. If it stopped increasing, it means that Handbrake and the frameclient is done processing all frames. *** Warning:** Pressing <em>Stop serving</em>¬†button while the frame server is serving frames to Handbrake might corrupt your output (compressed) video.</p>
<h3 id="missing-frameclients-issue-">Missing frameclients issue ?</h3>
<p><strong>Note:</strong> if you see &ldquo;<em>Frameclients installed: AVIFile only</em>&rdquo;, you can skip this section. What ? My screenshot says &ldquo;<em>Frameclients installed: None</em>&rdquo;. What does that means ? This message means that your system does not have a valid AVIFile handler installed. You probably missed a step in the <a href="/best-way-to-remove-ads-from-hdhomerun-recordings-no-intermediate-file-required/#Register_VirtualDub_AVIFile_handler">Register VirtualDub AVIFile handler</a> section.</p>
<h2 id="avisynth-custom-script">AviSynth Custom Script</h2>
<p>Now that VirtualDub is ready to server frames to the next application, you need to create an AviSynth file that will wrap the VirtualDub AVIFile signpost (*.vdr) file and generate a valid AVI stream.</p>
<ol>
<li>Create a text file next to the VirtualDub AVIFile signpost (*.vdr) file with the avs file extension (*.avs). It is a good practice to use the same path &amp; filename as the *.vdr file.</li>
<li>Enter the following text in the file: <em>AviSource(&ldquo;full_path_to_vdr&rdquo;)</em> (replace <em>full_path_to_vdr</em>¬†by the actual full path to your vdr file).</li>
<li>Save the file. Here is an example of a valid AviSynth Script file (*.avs):</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">AviSource</span><span class="p">(</span><span class="s">&#34;G:\Movies\TV</span><span class="se">\102</span><span class="s">1_20150405183000</span><span class="se">\102</span><span class="s">1_20150405183000.vdr&#34;</span><span class="p">)</span></span></span></code></pre></div>
<h2 id="workspace">Workspace</h2>
<p>Your workspace should contains 4 files:</p>
<ul>
<li>The original MPEG2 recording file (*.mpg)</li>
<li>The AviSynth Script file (*.avs)</li>
<li>The VirtualDub AVIFile signpost file (*.vdr)</li>
<li>The VirtualDub editing backup file (*.vdscript)</li>
</ul>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/Remove-ADS-From-TV-Recording-Workspace.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/Remove-ADS-From-TV-Recording-Workspace.png" alt="Remove ADS From TV Recording Workspace"></a></p>
<p>Remove ADS From TV Recording Workspace</p>
<h2 id="mounting">Mounting</h2>
<p>Mount the *.avs file as a virtual folder containing the virtual AVI file.</p>
<h3 id="using-avfs-1005">Using AVFS 1.0.0.5</h3>
<ul>
<li>From the File Explorer, right click the AviSynth Script file (*.avs).</li>
<li>Select the <em>Mount</em> option.</li>
<li>The following dialog will be displayed.</li>
</ul>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/AVFS-Mounting-Options.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/AVFS-Mounting-Options.png" alt="AVFS Mounting Options"></a></p>
<p>AVFS Mounting Options</p>
<li>
  Select your desired options. The following options is suggested: <ol>
    <li>
      Force read-only mount.
    </li>
    * Open after mount.
  </ol>
</li>
<ul>
<li>
<p>Click the <em>Mount</em> button. If the mounting is successful, the AviSynth Script file (*.avs) should be removed from the file system and be replaced by a folder with the same name as the file. The new folder contains multiple virtual files:</p>
</li>
<li>
<p>a copy of the AviSynth Script file (*.avs).</p>
</li>
<li>
<p>an error log (error.log) containing errors found during the mount operation. If there is no error, this file contains video and audio codec properties.</p>
</li>
<li>
<p>multiple audio file (*.wav, *.w64) with the same encoding. As far as I know, they are all identical.</p>
</li>
<li>
<p>an uncompressed video file in the Audio Video Interleave (*.avi) format. If you selected the option</p>
</li>
</ul>
<p><em>Open after mount</em>, the following window will be displayed:</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/AVFS-375-GB-Virtual-AVI-File.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/AVFS-375-GB-Virtual-AVI-File.png" alt="AVFS 375 GB Virtual AVI File"></a></p>
<p>AVFS 375 GB Virtual AVI File</p>
<h3 id="using-avfs-1006">Using AVFS 1.0.0.6</h3>
<p>Mounting with AVFS 1.0.0.6 requires a different process.</p>
<ul>
<li>Open a new <a href="http://www.google.ca/?q=open&#43;a&#43;command&#43;prompt&amp;gws_rd=ssl">Command Prompt</a>.
<ol>
<li>Change the current directory to the location where you installed AVFS 1.0.0.6. For example, if AVFS is installed in <em>F:\Apps\avfs_1.0.0.6,</em> enter the following command in the prompt: <em>cd /d F:\Apps\avfs_1.0.0.6</em></li>
</ol>
</li>
<li>Enter the command to mount the file. For example, if the AVS file is located in folder <em>G:\TV</em>, enter the following command in the prompt: <em>avfs.exe G:\TV\1021_20150405183000.avs</em></li>
<li>If command is executed properly, the application should display the following message: <em>Press CTRL+C to exit.</em></li>
<li>Leave the application running until the file is completely encoded in Handbrake.</li>
<li>Press <em>CTRL+C</em> to stop the application properly.</li>
</ul>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/12/AVFS-1.0.0.6-running.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/12/AVFS-1.0.0.6-running.jpg" alt="AVFS 1.0.0.6 running"></a></p>
<p>AVFS 1.0.0.6 running</p>
<p>*** Warning:** Pressing <em>CTRL+C</em> key while the frame server is serving frames to Handbrake might corrupt your output (compressed) video.</p>
<h2 id="test-the-virtual-avi-file">Test the virtual AVI file</h2>
<p>Make sure that the virtual AVI file is valid. Open the AVI file with a standard video player. The file may take longer than usual to open. While the file is opening or playing, take a look at the VirtualDub Frameserver window. You should see the value of</p>
<p><em>Number of frames served</em> increasing:</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-mode.png"><img src="http://www.end2endzone.com/wp-content/uploads/2015/11/VirtualDub-frameserver-mode.png" alt="VirtualDub Frameserver Mode"></a></p>
<p>VirtualDub Frameserver Mode</p>
<h2 id="encode-final-video-with-handbrake">Encode final video with Handbrake</h2>
<p>The AVI file is now ready for encoding using Handbrake. Enjoy your TV show episode without any ads. Just open the file in Handbrake and encode using your favorite video parameters.</p>
<p><a href="http://www.end2endzone.com/wp-content/uploads/2015/10/Handbrake-video-settings.jpg"><img src="http://www.end2endzone.com/wp-content/uploads/2015/10/Handbrake-video-settings.jpg" alt="Handbrake video settings"></a></p>
<p>Handbrake video settings</p>
<h1 id="what-you-get">What you get</h1>
<p>In the end, you get a perfectly encoded video without any ADS! A 1 hour recording of Montreal&rsquo;s CBFT-DT which is in 720p MPEG 2 format is 7.72 GB.  Removing ads from this recording and encoding with Handbrake using a quality based profile will reduce the file size to 1.20 GB.</p>
      </div>
      <footer>
        <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/other/">Other</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/english/">english</a></li>
        
          <li><a class="article-terms-link" href="/tags/hdhomerun/">hdhomerun</a></li>
        
          <li><a class="article-terms-link" href="/tags/tv/">tv</a></li>
        
      
    </ul>
  
</div>

      </footer>
    </div>
    
      
  <div class='post'>
    
    <div>
      <h2 id='say-something'>Say Something</h2>
        <form id='comment-form' class='new-comment' method='POST'>
          
          <h3 class='reply-notice hidden'>
            <span class='reply-name'></span>
            <a class='reply-close-btn button'><i class='fas fa-times'></i></a>
          </h3>

          
          <input type='hidden' name='options[entryId]' value='2880badecaf10c5b340125ba05dbf087'>
          <input type='hidden' name='fields[replyThread]' value=''>
          <input type='hidden' name='fields[replyID]' value=''>
          <input type='hidden' name='fields[replyName]' value=''>

          
          <input required name='fields[name]' type='text' placeholder='Your Name'>
          <input name='fields[website]' type='text' placeholder='Your Website'>
          <input required name='fields[email]' type='email' placeholder='Your Email'>
          <textarea required name='fields[body]' placeholder='Your Message' rows='10'></textarea>

          
          

          
          <div class='submit-notice'>
            <strong class='submit-notice-text submit-success hidden'>Thanks for your comment! It will be shown on the site once it has been approved.</strong>
            <strong class='submit-notice-text submit-failed hidden'>Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.</strong>
          </div>

          
          <button type='button' id="comment-form-submit" class='button'>Submit</button>
          <button type='button' id="comment-form-submitted" class='hidden button' disabled>Submitted</button>
          <button type='reset' id="comment-form-reset" class='button'>Reset</button>
        </form>
    </div>

    
    <div class='comments-container'>
      <h2>Comments</h2>
    </div>
  </div>


    
  </article>
  <div class="pagination">
    
      <a href="/maintenance-of-hobbico-torqmaster-90-deluxe-12-volt-rc-starter/" class="button left"><span>Maintenance of Hobbico TorqMaster 90 deluxe 12 Volt RC starter</span></a>
    
    
      <a href="/how-to-remove-ads-from-hdhomerun-recordings-and-still-encode-with-handbrake/" class="button right"><span>How to remove ads from HDHomeRun recordings and still encode with Handbrake</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          <a href="/pidvr-record-over-the-air-tv-on-a-raspberry-pi-4/" class="image" style="--bg-image: url('/wp-content/uploads/2021/03/PiDVR-Record-over-the-air-TV-on-a-Raspberry-Pi-4.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2021/03/PiDVR-Record-over-the-air-TV-on-a-Raspberry-Pi-4.jpg" alt="">
  </a>
        <header>
          <h2><a href="/pidvr-record-over-the-air-tv-on-a-raspberry-pi-4/">PiDVR Record over the air TV on a Raspberry Pi 4</a></h2>
          <time class="published" datetime="2021-03-14 19:40:03 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/how-to-setup-macos-catalina-10-15-in-virtualbox-for-c-development-on-github/" class="image" style="--bg-image: url('/wp-content/uploads/2021/03/HOW-TO-SETUP-MACOS-CATALINA-10.15-IN-VIRTUALBOX-FOR-C-DEVELOPMENT-ON-GITHUB.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2021/03/HOW-TO-SETUP-MACOS-CATALINA-10.15-IN-VIRTUALBOX-FOR-C-DEVELOPMENT-ON-GITHUB.jpg" alt="">
  </a>
        <header>
          <h2><a href="/how-to-setup-macos-catalina-10-15-in-virtualbox-for-c-development-on-github/">How to setup macOS Catalina 10.15 in VirtualBox for C&#43;&#43; development on Github.</a></h2>
          <time class="published" datetime="2021-03-14 16:42:39 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/how-to-encode-command-line-parameters-on-windows-done-right/" class="image" style="--bg-image: url('/wp-content/uploads/2017/06/How-to-encode-command-line-parameters-on-Windows-done-right.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2017/06/How-to-encode-command-line-parameters-on-Windows-done-right.jpg" alt="">
  </a>
        <header>
          <h2><a href="/how-to-encode-command-line-parameters-on-windows-done-right/">How to encode command line parameters on Windows ‚Äì done right</a></h2>
          <time class="published" datetime="2021-03-14 14:49:47 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/libargvcodec-a-c-library-which-properly-encode-and-decode-command-line-arguments/" class="image" style="--bg-image: url('/wp-content/uploads/2017/06/libArgvCodec-cplusplus-library.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2017/06/libArgvCodec-cplusplus-library.jpg" alt="">
  </a>
        <header>
          <h2><a href="/libargvcodec-a-c-library-which-properly-encode-and-decode-command-line-arguments/">libArgvCodec ‚Äì A c&#43;&#43; library which properly encode and decode command line arguments</a></h2>
          <time class="published" datetime="2017-06-25 16:02:08 &#43;0000 &#43;0000">June 25, 2017</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/libvariant-a-c-library-which-encapsulate-any-value-of-variant-types/" class="image" style="--bg-image: url('/wp-content/uploads/2016/10/libVariant-cplusplus-library.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2016/10/libVariant-cplusplus-library.jpg" alt="">
  </a>
        <header>
          <h2><a href="/libvariant-a-c-library-which-encapsulate-any-value-of-variant-types/">libVariant ‚Äì A c&#43;&#43; library which encapsulate any value of variant types</a></h2>
          <time class="published" datetime="2017-05-28 21:06:45 &#43;0000 &#43;0000">May 28, 2017</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/blog" class="button">See More</a>
        </footer>
      
    </section>
  

  
    

      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/photography/">photography<span class="count">28</span></a>
          
          <li>
              <a href="/categories/development/">development<span class="count">22</span></a>
          
          <li>
              <a href="/categories/model-aeronautics/">model aeronautics<span class="count">17</span></a>
          
          <li>
              <a href="/categories/other/">other<span class="count">9</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>Hey! I'm Antoine author of end2end zone. Take a couple of minutes to get to know me a little better.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        









































      </ul>
  
  <p class="copyright">
    ¬© 2021 end2end zone
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.147.9' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js"></script>
    <script>
      hljs.configure({ ignoreUnescapedHTML: true }); 
      hljs.highlightAll();
      hljs.initLineNumbersOnLoad();
    </script><script src="/js/bundle.min.9e7dbf352c03c6e86c5b45f55a8c9b5428bc62afaeabdec82f9600e0590b3cee.js" integrity="sha256-nn2/NSwDxuhsW0X1WoybVCi8Yq&#43;uq97IL5YA4FkLPO4="></script>
    <script src="/js/add-on.js"></script>
    </div>
  </body>
</html>
