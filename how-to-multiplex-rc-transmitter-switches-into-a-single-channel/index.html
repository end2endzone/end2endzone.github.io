<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>How to multiplex RC Transmitter switches into a single channel - end2end zone</title>
<meta name="description" content="end2end zone">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="twitter:card" content="summary_large_image">

<meta property="og:site_name" content="end2end zone">
<meta property="og:title" content="How to multiplex RC Transmitter switches into a single channel">
<meta property="og:description" content="end2end zone">
<meta property="og:type" content="article">
<meta property="og:url" content="http://www.end2endzone.com/how-to-multiplex-rc-transmitter-switches-into-a-single-channel/">
    <meta property="og:image" content="http://www.end2endzone.com/wp-content/uploads/2016/03/How-to-multiplex-RC-Transmitter-switches-into-a-single-channel.jpg">
    <meta property="og:image:alt" content="">


  <link rel="manifest" href="/favicon/site.webmanifest?v=1">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png?v=1">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png?v=1">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png?v=1">
  
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg?v=1" color="#ffffff">
    <link rel="shortcut icon" href="/favicon/favicon.ico?v=1">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml?v=1">
  
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">


  <meta name="generator" content="Hugo 0.147.9">
  
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/a11y-dark.min.css">
          <link rel="stylesheet" href="/css/bundle.min.150c477221f0a4cd774059ec37d705d2dfd096e42675af327b9fc2bbbbaebf45.css" integrity="sha256-FQxHciHwpM13QFnsN9cF0t/QluQmda8ye5/Cu7uuv0U="><link rel="stylesheet" href="/css/add-on.css">
        <link rel="stylesheet" href="/css/end2endzone.css">
        <link rel="stylesheet" href="/css/button.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          Blog
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/" class="nav link"><i class='fa fa-home'></i> Home</a>
        
      
        
          
          <a href="/about" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="/blog" class="nav link"><i class='far fa-newspaper'></i> Blog</a>
        
      
        
          
          <a href="/categories" class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
        
      
        
          
          <a href="/tags" class="nav link"><i class='fas fa-sitemap'></i> Tags</a>
        
      
        
          
          <a href="/contact" class="nav link"><i class='far fa-envelope'></i> Contact</a>
        
      
      <a href="#share-menu" class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    <a href="#share-menu" class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="nav lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  <menu id="lang-menu" class="flyout-menu menu">
  <a href="#" lang="en" class="nav link active">English (en)</a>
  
    
      
    
      
        <a href="/fr" lang="fr" class="nav no-lang link">Fran√ßais (fr)</a>
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel&amp;url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;title=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;title=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;description=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by &amp;body=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="/img/main/logo.jpg" class="circle" width="100" alt="Hey that&#39;s me" /></a>
  <header>
    <h1>end2end zone</h1>
  </header>
  <main>
    <p>My life dumped to a web site</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        









































      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article>
    <div class="post">
      <header>
  <div class="title">
    
      <h2><a href="/how-to-multiplex-rc-transmitter-switches-into-a-single-channel/">How to multiplex RC Transmitter switches into a single channel</a></h2>
    
    
  </div>
  <div class="meta">
    <time datetime="2016-03-30 17:15:24 &#43;0000 &#43;0000">March 30, 2016</time>
    <p>end2end</p>
    <p>29-Minute Read</p>
  </div>
</header>

	  
      
      
        <div id="socnet-share">
          




  
    
    <a href="//twitter.com/share?text=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel&amp;url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;title=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;title=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f&amp;description=How%20to%20multiplex%20RC%20Transmitter%20switches%20into%20a%20single%20channel" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by &amp;body=http%3a%2f%2fwww.end2endzone.com%2fhow-to-multiplex-rc-transmitter-switches-into-a-single-channel%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


        </div>
      
	  
      <div class="content">
        <a href="/how-to-multiplex-rc-transmitter-switches-into-a-single-channel/" class="image" style="--bg-image: url('/wp-content/uploads/2016/03/How-to-multiplex-RC-Transmitter-switches-into-a-single-channel.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2016/03/How-to-multiplex-RC-Transmitter-switches-into-a-single-channel.jpg" alt="">
  </a>
		
        
        
          
<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
          Table of contents
        </span>
    </div>
    <div class="expand-content" style="display: none;">
      <aside>
        <nav id="TableOfContents">
  <ol>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#use-a-microcontroller">Use a microcontroller</a></li>
    <li><a href="#multiplexing-switches-only">Multiplexing switches (only)</a>
      <ol>
        <li><a href="#design">Design</a>
          <ol>
            <li><a href="#create-blocks">Create blocks</a></li>
            <li><a href="#minimum-number-of-blocks">Minimum number of blocks</a></li>
          </ol>
        </li>
        <li><a href="#supporting-3-position-switches">Supporting 3-position switches</a></li>
        <li><a href="#dead-zone">Dead Zone</a></li>
        <li><a href="#block-size">Block size</a></li>
        <li><a href="#mixes">Mixes</a>
          <ol>
            <li><a href="#four-2-position-switches">Four 2-position switches</a></li>
            <li><a href="#three-2-position-and-one-3-position-switches">Three 2-position and one 3-position switches</a></li>
            <li><a href="#three-3-position-switches">Three 3-position switches</a></li>
          </ol>
        </li>
        <li><a href="#decoding">Decoding</a>
          <ol>
            <li><a href="#required-libraries">Required Libraries</a></li>
            <li><a href="#code-sample">Code sample</a></li>
            <li><a href="#sample-data">Sample data</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#multiplexing-an-analog-input-and-switches">Multiplexing an analog input and switches</a>
      <ol>
        <li><a href="#design-1">Design</a></li>
        <li><a href="#define-resolution">Define resolution</a></li>
        <li><a href="#whats-different">What&rsquo;s different</a>
          <ol>
            <li><a href="#block-size-1">Block size</a></li>
            <li><a href="#dead-zone-1">Dead zone</a></li>
          </ol>
        </li>
        <li><a href="#mixes-1">Mixes</a></li>
        <li><a href="#decoding-1">Decoding</a>
          <ol>
            <li><a href="#code-sample-1">Code sample</a></li>
            <li><a href="#sample-data-1">Sample data</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav>
      </aside>
    </div>
</div>

        
		
        <h1 id="introduction">Introduction</h1>
<p>In a personal project, I wanted to add 2 new devices to an existing quadcopter. The quadcopter was equipped with a 6-channel receiver meaning I only had 1 spare channel to control the 2 devices:</p>
<table>
  <thead>
      <tr>
          <th><!-- --></th>
          <th><!-- --></th>
          <th><!-- --></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>CH 1</td>
          <td>:</td>
          <td>Throttle</td>
      </tr>
      <tr>
          <td>CH 2</td>
          <td>:</td>
          <td>Rudder</td>
      </tr>
      <tr>
          <td>CH 3</td>
          <td>:</td>
          <td>Ailerons</td>
      </tr>
      <tr>
          <td>CH 4</td>
          <td>:</td>
          <td>Elevator</td>
      </tr>
      <tr>
          <td>CH 5</td>
          <td>:</td>
          <td>Flight mode</td>
      </tr>
      <tr>
          <td>CH 6</td>
          <td>:</td>
          <td>???</td>
      </tr>
      <tr>
          <td>The following article explains how I manage to solve the issue:</td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table>
<p><em>How can I control more than one device using a single channel</em>.</p>
<p class="postedit">
  EDIT: To make all mixing pre-calculations easier, do not hesitate to use my <a href="/rc-transmitter-mix-calculator/">Mixing Calculator for R/C Transmitter</a>¬†(it&rsquo;s an Excel Sheet!)
</p>
<p>I could have used an 8-channel receiver to solve this but I did not had a free receiver that I could spare. This guide will show you how to multiplex RC transmitter switches (inputs) into a</p>
<p><strong>single</strong> channel.</p>
<h1 id="use-a-microcontroller">Use a microcontroller</h1>
<p>For this type of project, 7 channels is usually required. The easiest method would have been to replace the receiver but since I like the DIY way, I decided to multiplex two switches into the 6th channel and use a microcontroller to read the signal and demultiplex each switches states.</p>
<p class="pleasenote">
  <strong>Note:</strong> This is only valid if there is a microcontroller connected with the receiver that _ <strong>you</strong> _ can program to demultiplex the signal. Do not expect your proprietary flight controller to be able to understand your signal.
</p>
<h1 id="multiplexing-switches-only">Multiplexing switches (only)</h1>
<h2 id="design">Design</h2>
<p>The following section illustrate the design required for multiplexing as much information as possible into a single channel.</p>
<h3 id="create-blocks">Create blocks</h3>
<p>The generic idea is to divide the whole range of the signal (from -150% to 150%) into blocks or bands. Each block correspond to a unique configuration of all switches. Then you create the required mixes to move/update the signal value to the block corresponding to the switches unique configuration.</p>
<h3 id="minimum-number-of-blocks">Minimum number of blocks</h3>
<p>The following explain what is the minimum number of blocks that are required for multiplexing a given amount of switches. The number of required blocks for a given number of switches is defined by the all the unique combinations that are possible with the switches. To calculate this, you multiply the number of combinations of each switch by each other. For instance: To multiplex three 2-position switches, 8 blocks are required (2*2*2) which makes 8 unique combinations:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td style="width: 64px;" rowspan="2">**Block Number**</td>
    <td colspan="3">**Switches**</td>
  </tr>
  <tr class="headerrow">
    <td style="width: 60px;" width="60">**2-pos**</td>
    <td style="width: 60px;" width="60">**2-pos**</td>
    <td style="width: 60px;" width="60">**2-pos**</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td></td>
    <td>1</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>3</td>
    <td></td>
    <td>1</td>
    <td>1</td>
  </tr>
  <tr>
    <td>4</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>5</td>
    <td>1</td>
    <td></td>
    <td>1</td>
  </tr>
  <tr>
    <td>6</td>
    <td>1</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>7</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
  </tr>
</table>
To multiplex two 2-position and one 3-position switches, 12 blocks are required (2\*2\*3) which makes 12 unique combinations: 
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td style="width: 64px;" rowspan="2">**Block Number**</td>
    <td colspan="3">**Switches**</td>
  </tr>
  <tr class="headerrow">
    <td style="width: 60px;" width="60">**2-pos**</td>
    <td style="width: 60px;" width="60">**2-pos**</td>
    <td style="width: 60px;" width="60">**3-pos**</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td></td>
    <td>1</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td></td>
    <td>2</td>
  </tr>
  <tr>
    <td>3</td>
    <td></td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>4</td>
    <td></td>
    <td>1</td>
    <td>1</td>
  </tr>
  <tr>
    <td>5</td>
    <td></td>
    <td>1</td>
    <td>2</td>
  </tr>
  <tr>
    <td>6</td>
    <td>1</td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>7</td>
    <td>1</td>
    <td></td>
    <td>1</td>
  </tr>
  <tr>
    <td>8</td>
    <td>1</td>
    <td></td>
    <td>2</td>
  </tr>
  <tr>
    <td>9</td>
    <td>1</td>
    <td>1</td>
    <td></td>
  </tr>
  <tr>
    <td>10</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
  </tr>
  <tr>
    <td>11</td>
    <td>1</td>
    <td>1</td>
    <td>2</td>
  </tr>
</table>
<p class="pleasenote">
  Note that each switch also requires a mix for working. The amount of switches you can multiplex is then also limited by the amount of mixes you can define in your transmitter.
</p>
<h2 id="supporting-3-position-switches">Supporting 3-position switches</h2>
<p>In your design, you will have to decide to support or not 3-position switches. If you do, it will reduce the amount of switches you can multiplex into a single channel since each switches requires 3 blocks instead of 2 blocks. An acceptable compromise is to use this switch as a 2-position switch. Position 1 would then be identical as Position 0 (OFF) and Position 2 would be ON.</p>
<h2 id="dead-zone">Dead Zone</h2>
<p>Blocks cannot be juxtaposed to each other and dead zones must be inserted between (or within) blocks. This is required since each transmitters and micro-controllers do not offer the same performance and precision. Dead zones are required since a micro-controller might read data from block 5 but the next pulse of the same signal may introduce a 5uS delay, which would correspond to a different block (ie block 6). For instance, if the following blocks are defined:</p>
<table>
  <thead>
      <tr>
          <th><strong>Block</strong></th>
          <th><strong>Min</strong></th>
          <th><strong>Max</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td></td>
          <td>-150%</td>
          <td>-141%</td>
      </tr>
      <tr>
          <td>1</td>
          <td>-140%</td>
          <td>-131%</td>
      </tr>
      <tr>
          <td>2</td>
          <td>-130%</td>
          <td>-121%</td>
      </tr>
      <tr>
          <td>3</td>
          <td>-120%</td>
          <td>-111%</td>
      </tr>
  </tbody>
</table>
<p>The difference between -131% (block 1) and -130% (block 2) is ~5uS. If blocks would be juxtaposed, then the micro-controller could sometimes read block 1 and sometimes block 2 which does not mean the same thing at all. This delay might be from the receiver who does not provide a perfect pulse length or from the micro-controller who does not detect the end of the pulse with enough precision. Both errors can be avoided with dead zones. By introducing a dead zone of 5 steps within blocks (of 10 steps), the same blocks would then become something like:</p>
<table>
  <thead>
      <tr>
          <th><strong>Block</strong></th>
          <th><strong>Min</strong></th>
          <th><strong>Max</strong></th>
          <th><strong>Mix Target</strong></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>DEAD</td>
          <td>-150%</td>
          <td>-148%</td>
          <td></td>
      </tr>
      <tr>
          <td></td>
          <td>-147%</td>
          <td>-143%</td>
          <td>-145%</td>
      </tr>
      <tr>
          <td>DEAD</td>
          <td>-142%</td>
          <td>-138%</td>
          <td></td>
      </tr>
      <tr>
          <td>1</td>
          <td>-137%</td>
          <td>-133%</td>
          <td>-135%</td>
      </tr>
      <tr>
          <td>DEAD</td>
          <td>-132%</td>
          <td>-128%</td>
          <td></td>
      </tr>
      <tr>
          <td>2</td>
          <td>-127%</td>
          <td>-123%</td>
          <td>-125%</td>
      </tr>
      <tr>
          <td>DEAD</td>
          <td>-122%</td>
          <td>-113%</td>
          <td></td>
      </tr>
      <tr>
          <td>3</td>
          <td>-117%</td>
          <td>-113%</td>
          <td>-115%</td>
      </tr>
  </tbody>
</table>
<p>The block size must also have a minimum size to account for the same effect. If the block size is too small, the micro-controller might read data from a dead zone and would not know what to do. The more accurate the receiver and the micro-controller, the smaller the block size and dead zone size can be. Mixes should be created to move the actual signal values to target the middle of the effective block area (not the dead zone). See the</p>
<p><a href="/how-to-multiplex-rc-transmitter-switches-into-a-single-channel/#Mixes">Mixes</a> section for more details.</p>
<h2 id="block-size">Block size</h2>
<p>Based on my observation, the best values for block size and dead zone size are as follow: A block size of 10 steps is big enough to allow multiplexing a high amount of switches while leaving enough space for a reasonable dead zone between blocks. At the same time, a block size of 10 steps allows the blocks to be rounded easily which makes blocks offsets easy to calculate. The acceptable dead zone size (considering the average precision of most micro-controller and receivers), does not need to be bigger than 2 steps. This configuration leaves two blocks spaced by 4 steps which is enough to prevent issues. The following values are then considered &ldquo;safe and tested&rdquo; to get good and stable results:</p>
<table>
  <thead>
      <tr>
          <th><!-- --></th>
          <th><!-- --></th>
          <th><!-- --></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Block size</td>
          <td>:</td>
          <td>10 steps</td>
      </tr>
      <tr>
          <td>Dead zone</td>
          <td>:</td>
          <td>2 steps</td>
      </tr>
      <tr>
          <td>Effective size</td>
          <td>:</td>
          <td>6 steps</td>
      </tr>
  </tbody>
</table>
<h2 id="mixes">Mixes</h2>
<p>The following section defines mix that are required to implement two basic scenarios.</p>
<p class="pleasenote">
  Note that you can easily calculate the effect of a given mix by using my <a href="/rc-transmitter-mix-calculator/">RC Transmitter Mix Calculator</a> to identify the minimum, middle and maximum values of a mix.
</p>
<h3 id="four-2-position-switches">Four 2-position switches</h3>
<p>The following table shows the signal range and the middle of the effective area for each block. It is calculated using a block size of 10 steps and a dead zone of 2 steps which makes the effective block size to 6 steps:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td rowspan="2" width="64">Block Number</td>
    <td style="width: 240px;" colspan="6" width="250">Block Offsets</td>
    <td rowspan="2" width="64">Mix Target</td>
  </tr>
  <tr class="headerrow">
    <td colspan="2">Dead</td>
    <td colspan="2">Effective</td>
    <td colspan="2">Dead</td>
  </tr>
  <tr>
    <td></td>
    <td>-150</td>
    <td>-149</td>
    <td>-148</td>
    <td>-143</td>
    <td>-142</td>
    <td>-141</td>
    <td>-146</td>
  </tr>
  <tr>
    <td>1</td>
    <td>-140</td>
    <td>-139</td>
    <td>-138</td>
    <td>-133</td>
    <td>-132</td>
    <td>-131</td>
    <td>-136</td>
  </tr>
  <tr>
    <td>2</td>
    <td>-130</td>
    <td>-129</td>
    <td>-128</td>
    <td>-123</td>
    <td>-122</td>
    <td>-121</td>
    <td>-126</td>
  </tr>
  <tr>
    <td>3</td>
    <td>-120</td>
    <td>-119</td>
    <td>-118</td>
    <td>-113</td>
    <td>-112</td>
    <td>-111</td>
    <td>-116</td>
  </tr>
  <tr>
    <td>4</td>
    <td>-110</td>
    <td>-109</td>
    <td>-108</td>
    <td>-103</td>
    <td>-102</td>
    <td>-101</td>
    <td>-106</td>
  </tr>
  <tr>
    <td>5</td>
    <td>-100</td>
    <td>-99</td>
    <td>-98</td>
    <td>-93</td>
    <td>-92</td>
    <td>-91</td>
    <td>-96</td>
  </tr>
  <tr>
    <td>6</td>
    <td>-90</td>
    <td>-89</td>
    <td>-88</td>
    <td>-83</td>
    <td>-82</td>
    <td>-81</td>
    <td>-86</td>
  </tr>
  <tr>
    <td>7</td>
    <td>-80</td>
    <td>-79</td>
    <td>-78</td>
    <td>-73</td>
    <td>-72</td>
    <td>-71</td>
    <td>-76</td>
  </tr>
  <tr>
    <td>8</td>
    <td>-70</td>
    <td>-69</td>
    <td>-68</td>
    <td>-63</td>
    <td>-62</td>
    <td>-61</td>
    <td>-66</td>
  </tr>
  <tr>
    <td>9</td>
    <td>-60</td>
    <td>-59</td>
    <td>-58</td>
    <td>-53</td>
    <td>-52</td>
    <td>-51</td>
    <td>-56</td>
  </tr>
  <tr>
    <td>10</td>
    <td>-50</td>
    <td>-49</td>
    <td>-48</td>
    <td>-43</td>
    <td>-42</td>
    <td>-41</td>
    <td>-46</td>
  </tr>
  <tr>
    <td>11</td>
    <td>-40</td>
    <td>-39</td>
    <td>-38</td>
    <td>-33</td>
    <td>-32</td>
    <td>-31</td>
    <td>-36</td>
  </tr>
  <tr>
    <td>12</td>
    <td>-30</td>
    <td>-29</td>
    <td>-28</td>
    <td>-23</td>
    <td>-22</td>
    <td>-21</td>
    <td>-26</td>
  </tr>
  <tr>
    <td>13</td>
    <td>-20</td>
    <td>-19</td>
    <td>-18</td>
    <td>-13</td>
    <td>-12</td>
    <td>-11</td>
    <td>-16</td>
  </tr>
  <tr>
    <td>14</td>
    <td>-10</td>
    <td>-9</td>
    <td>-8</td>
    <td>-3</td>
    <td>-2</td>
    <td>-1</td>
    <td>-6</td>
  </tr>
  <tr>
    <td>15</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>7</td>
    <td>8</td>
    <td>9</td>
    <td>5</td>
  </tr>
</table>
The following mixes must be created to multiplex all switches unique configurations: 
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td style="width: 240px;" colspan="5" width="220">Mix info</td>
    <td style="width: 80px;" colspan="2" width="80">Mix Output</td>
  </tr>
  <tr class="headerrow">
    <td>Number</td>
    <td>Switch</td>
    <td>High</td>
    <td>Low</td>
    <td>Offset</td>
    <td></td>
    <td>1</td>
  </tr>
  <tr>
    <td></td>
    <td>A</td>
    <td>-100</td>
    <td>100</td>
    <td></td>
    <td>-100</td>
    <td>-100</td>
  </tr>
  <tr>
    <td>1</td>
    <td>A</td>
    <td>-46</td>
    <td>36</td>
    <td></td>
    <td>-46</td>
    <td>-36</td>
  </tr>
  <tr>
    <td>2</td>
    <td>B</td>
    <td></td>
    <td>-20</td>
    <td></td>
    <td></td>
    <td>20</td>
  </tr>
  <tr>
    <td>3</td>
    <td>C</td>
    <td></td>
    <td>-40</td>
    <td></td>
    <td></td>
    <td>40</td>
  </tr>
  <tr>
    <td>4</td>
    <td>D</td>
    <td></td>
    <td>-80</td>
    <td></td>
    <td></td>
    <td>80</td>
  </tr>
</table>
<p class="pleasenote">
  Note that first 2 mix are mapped to switch A. This is required since the minimum value of a High rate mix is -125% which gives a final mix value of -125% at Position 0. The only way to get a lower value (ie -146) would be to offset the mix (by -17) but then the Low rate value would have the same issue.
</p>
<p>As you can see, the sum of all combined mixes matches the middle section of each effective block:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td rowspan="2" width="64">Block Number</td>
    <td colspan="4" width="80">Switches</td>
    <td style="width: 220px;" colspan="6" width="200">Mixes</td>
  </tr>
  <tr class="headerrow">
    <td>D</td>
    <td>C</td>
    <td>B</td>
    <td>A</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>4</td>
    <td>Sum</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-146</td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td>20</td>
    <td></td>
    <td></td>
    <td>-126</td>
  </tr>
  <tr>
    <td>3</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td>20</td>
    <td></td>
    <td></td>
    <td>-116</td>
  </tr>
  <tr>
    <td>4</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td></td>
    <td>40</td>
    <td></td>
    <td>-106</td>
  </tr>
  <tr>
    <td>5</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td></td>
    <td>40</td>
    <td></td>
    <td>-96</td>
  </tr>
  <tr>
    <td>6</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td>20</td>
    <td>40</td>
    <td></td>
    <td>-86</td>
  </tr>
  <tr>
    <td>7</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td>20</td>
    <td>40</td>
    <td></td>
    <td>-76</td>
  </tr>
  <tr>
    <td>8</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td></td>
    <td></td>
    <td>80</td>
    <td>-66</td>
  </tr>
  <tr>
    <td>9</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td></td>
    <td></td>
    <td>80</td>
    <td>-56</td>
  </tr>
  <tr>
    <td>10</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td>20</td>
    <td></td>
    <td>80</td>
    <td>-46</td>
  </tr>
  <tr>
    <td>11</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td>20</td>
    <td></td>
    <td>80</td>
    <td>-36</td>
  </tr>
  <tr>
    <td>12</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td></td>
    <td>40</td>
    <td>80</td>
    <td>-26</td>
  </tr>
  <tr>
    <td>13</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td></td>
    <td>40</td>
    <td>80</td>
    <td>-16</td>
  </tr>
  <tr>
    <td>14</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>-100</td>
    <td>-46</td>
    <td>20</td>
    <td>40</td>
    <td>80</td>
    <td>-6</td>
  </tr>
  <tr>
    <td>15</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>-100</td>
    <td>-36</td>
    <td>20</td>
    <td>40</td>
    <td>80</td>
    <td>4</td>
  </tr>
</table>
Use the 
<pre><code>[ Cheat Sheet for Multiplexing four 2-position switches (301 downloads) ](http://www.end2endzone.com/download/1486/ &quot;Version 1.0&quot;) for calculating all block offset when multiplexing four 2-position switches. 
</code></pre>
<h3 id="three-2-position-and-one-3-position-switches">Three 2-position and one 3-position switches</h3>
<p>The following table shows the signal range and the middle of the effective area for each block. It is calculated using a block size of 10 steps and a dead zone of 2 steps which makes the effective block size to 6 steps:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td rowspan="2" width="64">Block Number</td>
    <td colspan="6" width="250">Block Offsets</td>
    <td rowspan="2" width="64">Mix Target</td>
  </tr>
  <tr class="headerrow">
    <td colspan="2">Dead</td>
    <td colspan="2">Effective</td>
    <td colspan="2">Dead</td>
  </tr>
  <tr>
    <td></td>
    <td>-150</td>
    <td>-149</td>
    <td>-148</td>
    <td>-143</td>
    <td>-142</td>
    <td>-141</td>
    <td>-146</td>
  </tr>
  <tr>
    <td>1</td>
    <td>-140</td>
    <td>-139</td>
    <td>-138</td>
    <td>-133</td>
    <td>-132</td>
    <td>-131</td>
    <td>-136</td>
  </tr>
  <tr>
    <td>2</td>
    <td>-130</td>
    <td>-129</td>
    <td>-128</td>
    <td>-123</td>
    <td>-122</td>
    <td>-121</td>
    <td>-126</td>
  </tr>
  <tr>
    <td>3</td>
    <td>-120</td>
    <td>-119</td>
    <td>-118</td>
    <td>-113</td>
    <td>-112</td>
    <td>-111</td>
    <td>-116</td>
  </tr>
  <tr>
    <td>4</td>
    <td>-110</td>
    <td>-109</td>
    <td>-108</td>
    <td>-103</td>
    <td>-102</td>
    <td>-101</td>
    <td>-106</td>
  </tr>
  <tr>
    <td>5</td>
    <td>-100</td>
    <td>-99</td>
    <td>-98</td>
    <td>-93</td>
    <td>-92</td>
    <td>-91</td>
    <td>-96</td>
  </tr>
  <tr>
    <td>6</td>
    <td>-90</td>
    <td>-89</td>
    <td>-88</td>
    <td>-83</td>
    <td>-82</td>
    <td>-81</td>
    <td>-86</td>
  </tr>
  <tr>
    <td>7</td>
    <td>-80</td>
    <td>-79</td>
    <td>-78</td>
    <td>-73</td>
    <td>-72</td>
    <td>-71</td>
    <td>-76</td>
  </tr>
  <tr>
    <td>8</td>
    <td>-70</td>
    <td>-69</td>
    <td>-68</td>
    <td>-63</td>
    <td>-62</td>
    <td>-61</td>
    <td>-66</td>
  </tr>
  <tr>
    <td>9</td>
    <td>-60</td>
    <td>-59</td>
    <td>-58</td>
    <td>-53</td>
    <td>-52</td>
    <td>-51</td>
    <td>-56</td>
  </tr>
  <tr>
    <td>10</td>
    <td>-50</td>
    <td>-49</td>
    <td>-48</td>
    <td>-43</td>
    <td>-42</td>
    <td>-41</td>
    <td>-46</td>
  </tr>
  <tr>
    <td>11</td>
    <td>-40</td>
    <td>-39</td>
    <td>-38</td>
    <td>-33</td>
    <td>-32</td>
    <td>-31</td>
    <td>-36</td>
  </tr>
  <tr>
    <td>12</td>
    <td>-30</td>
    <td>-29</td>
    <td>-28</td>
    <td>-23</td>
    <td>-22</td>
    <td>-21</td>
    <td>-26</td>
  </tr>
  <tr>
    <td>13</td>
    <td>-20</td>
    <td>-19</td>
    <td>-18</td>
    <td>-13</td>
    <td>-12</td>
    <td>-11</td>
    <td>-16</td>
  </tr>
  <tr>
    <td>14</td>
    <td>-10</td>
    <td>-9</td>
    <td>-8</td>
    <td>-3</td>
    <td>-2</td>
    <td>-1</td>
    <td>-6</td>
  </tr>
  <tr>
    <td>15</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>7</td>
    <td>8</td>
    <td>9</td>
    <td>5</td>
  </tr>
  <tr>
    <td>16</td>
    <td>10</td>
    <td>11</td>
    <td>12</td>
    <td>17</td>
    <td>18</td>
    <td>19</td>
    <td>15</td>
  </tr>
  <tr>
    <td>17</td>
    <td>20</td>
    <td>21</td>
    <td>22</td>
    <td>27</td>
    <td>28</td>
    <td>29</td>
    <td>25</td>
  </tr>
  <tr>
    <td>18</td>
    <td>30</td>
    <td>31</td>
    <td>32</td>
    <td>37</td>
    <td>38</td>
    <td>39</td>
    <td>35</td>
  </tr>
  <tr>
    <td>19</td>
    <td>40</td>
    <td>41</td>
    <td>42</td>
    <td>47</td>
    <td>48</td>
    <td>49</td>
    <td>45</td>
  </tr>
  <tr>
    <td>20</td>
    <td>50</td>
    <td>51</td>
    <td>52</td>
    <td>57</td>
    <td>58</td>
    <td>59</td>
    <td>55</td>
  </tr>
  <tr>
    <td>21</td>
    <td>60</td>
    <td>61</td>
    <td>62</td>
    <td>67</td>
    <td>68</td>
    <td>69</td>
    <td>65</td>
  </tr>
  <tr>
    <td>22</td>
    <td>70</td>
    <td>71</td>
    <td>72</td>
    <td>77</td>
    <td>78</td>
    <td>79</td>
    <td>75</td>
  </tr>
  <tr>
    <td>23</td>
    <td>80</td>
    <td>81</td>
    <td>82</td>
    <td>87</td>
    <td>88</td>
    <td>89</td>
    <td>85</td>
  </tr>
</table>
The following mixes must be created to multiplex all switches unique configurations: 
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td style="width: 240px;" colspan="5" width="220">Mix info</td>
    <td style="width: 120px;" colspan="3" width="120">Mix Output</td>
  </tr>
  <tr class="headerrow">
    <td width="58">Number</td>
    <td width="48">Switch</td>
    <td width="35">High</td>
    <td width="32">Low</td>
    <td width="46">Offset</td>
    <td width="39"></td>
    <td width="39">1</td>
    <td width="39">2</td>
  </tr>
  <tr>
    <td></td>
    <td>A</td>
    <td></td>
    <td>68</td>
    <td>100</td>
    <td></td>
    <td>-68</td>
    <td>-136</td>
  </tr>
  <tr>
    <td>1</td>
    <td>A</td>
    <td>-68</td>
    <td></td>
    <td>-100</td>
    <td>-136</td>
    <td>-68</td>
    <td></td>
  </tr>
  <tr>
    <td>2</td>
    <td>A</td>
    <td>-10</td>
    <td>-10</td>
    <td></td>
    <td>-10</td>
    <td></td>
    <td>10</td>
  </tr>
  <tr>
    <td>3</td>
    <td>B</td>
    <td></td>
    <td>-30</td>
    <td></td>
    <td></td>
    <td></td>
    <td>30</td>
  </tr>
  <tr>
    <td>4</td>
    <td>C</td>
    <td></td>
    <td>-60</td>
    <td></td>
    <td></td>
    <td></td>
    <td>60</td>
  </tr>
  <tr>
    <td>5</td>
    <td>D</td>
    <td></td>
    <td>-120</td>
    <td></td>
    <td></td>
    <td></td>
    <td>120</td>
  </tr>
</table>
<p class="pleasenote">
  Note that first 3 mix are mapped to switch A which is the 3-position switch. The first 2 mix are use to get a constant -136 on all positions. Then the 3rd mix moves the signal value over the first 3 blocks (to the previous, current or next block). As far as I know, there is no way to achieve the same result with only 2 mixes.
</p>
<p>As you can see, the sum of all combined mixes matches the middle section of each effective block:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td rowspan="2" width="64">Block Number</td>
    <td colspan="4" width="80">Switches</td>
    <td colspan="7" width="240">Mixes</td>
  </tr>
  <tr class="headerrow">
    <td width="20">D</td>
    <td width="20">C</td>
    <td width="20">B</td>
    <td width="20">A</td>
    <td width="35"></td>
    <td width="35">1</td>
    <td width="35">2</td>
    <td width="35">3</td>
    <td width="35">4</td>
    <td width="35">5</td>
    <td width="35">Sum</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-146</td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td></td>
    <td></td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-126</td>
  </tr>
  <tr>
    <td>3</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td>30</td>
    <td></td>
    <td></td>
    <td>-116</td>
  </tr>
  <tr>
    <td>4</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td>30</td>
    <td></td>
    <td></td>
    <td>-106</td>
  </tr>
  <tr>
    <td>5</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td>30</td>
    <td></td>
    <td></td>
    <td>-96</td>
  </tr>
  <tr>
    <td>6</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td></td>
    <td>60</td>
    <td></td>
    <td>-86</td>
  </tr>
  <tr>
    <td>7</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td></td>
    <td>60</td>
    <td></td>
    <td>-76</td>
  </tr>
  <tr>
    <td>8</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td></td>
    <td>60</td>
    <td></td>
    <td>-66</td>
  </tr>
  <tr>
    <td>9</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td>30</td>
    <td>60</td>
    <td></td>
    <td>-56</td>
  </tr>
  <tr>
    <td>10</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td>30</td>
    <td>60</td>
    <td></td>
    <td>-46</td>
  </tr>
  <tr>
    <td>11</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td>30</td>
    <td>60</td>
    <td></td>
    <td>-36</td>
  </tr>
  <tr>
    <td>12</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td></td>
    <td></td>
    <td>120</td>
    <td>-26</td>
  </tr>
  <tr>
    <td>13</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td></td>
    <td></td>
    <td>120</td>
    <td>-16</td>
  </tr>
  <tr>
    <td>14</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td></td>
    <td></td>
    <td>120</td>
    <td>-6</td>
  </tr>
  <tr>
    <td>15</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td>30</td>
    <td></td>
    <td>120</td>
    <td>4</td>
  </tr>
  <tr>
    <td>16</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td>30</td>
    <td></td>
    <td>120</td>
    <td>14</td>
  </tr>
  <tr>
    <td>17</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td>30</td>
    <td></td>
    <td>120</td>
    <td>24</td>
  </tr>
  <tr>
    <td>18</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td></td>
    <td>60</td>
    <td>120</td>
    <td>34</td>
  </tr>
  <tr>
    <td>19</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td></td>
    <td>60</td>
    <td>120</td>
    <td>44</td>
  </tr>
  <tr>
    <td>20</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td></td>
    <td>60</td>
    <td>120</td>
    <td>54</td>
  </tr>
  <tr>
    <td>21</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-136</td>
    <td>-10</td>
    <td>30</td>
    <td>60</td>
    <td>120</td>
    <td>64</td>
  </tr>
  <tr>
    <td>22</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>-68</td>
    <td>-68</td>
    <td></td>
    <td>30</td>
    <td>60</td>
    <td>120</td>
    <td>74</td>
  </tr>
  <tr>
    <td>23</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td>2</td>
    <td>-136</td>
    <td></td>
    <td>10</td>
    <td>30</td>
    <td>60</td>
    <td>120</td>
    <td>84</td>
  </tr>
</table>
Use the 
<pre><code>[ Cheat Sheet for Multiplexing three 2-position and one 3-position switches (331 downloads) ](http://www.end2endzone.com/download/1482/ &quot;Version 1.0&quot;) for calculating all block offset when multiplexing three 2-position switches and one 3-position switch. 
</code></pre>
<h3 id="three-3-position-switches">Three 3-position switches</h3>
<p>The following table shows the signal range and the middle of the effective area for each block. Again, it is calculated using a block size of 10 steps and a dead zone of 2 steps which makes the effective block size to 6 steps:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <colgroup> <col span="8" /> </colgroup> <tr class="headerrow">
    <td rowspan="2" width="64">Block Number</td>
    <td style="width: 250px;" colspan="6" width="250">Block Offsets</td>
    <td rowspan="2" width="64">Mix Target</td>
  </tr>
  <tr class="headerrow">
    <td colspan="2">Dead</td>
    <td colspan="2">Effective</td>
    <td colspan="2">Dead</td>
  </tr>
  <tr>
    <td></td>
    <td>-134</td>
    <td>-133</td>
    <td>-132</td>
    <td>-127</td>
    <td>-126</td>
    <td>-125</td>
    <td>-130</td>
  </tr>
  <tr>
    <td>1</td>
    <td>-124</td>
    <td>-123</td>
    <td>-122</td>
    <td>-117</td>
    <td>-116</td>
    <td>-115</td>
    <td>-120</td>
  </tr>
  <tr>
    <td>2</td>
    <td>-114</td>
    <td>-113</td>
    <td>-112</td>
    <td>-107</td>
    <td>-106</td>
    <td>-105</td>
    <td>-110</td>
  </tr>
  <tr>
    <td>3</td>
    <td>-104</td>
    <td>-103</td>
    <td>-102</td>
    <td>-97</td>
    <td>-96</td>
    <td>-95</td>
    <td>-100</td>
  </tr>
  <tr>
    <td>4</td>
    <td>-94</td>
    <td>-93</td>
    <td>-92</td>
    <td>-87</td>
    <td>-86</td>
    <td>-85</td>
    <td>-90</td>
  </tr>
  <tr>
    <td>5</td>
    <td>-84</td>
    <td>-83</td>
    <td>-82</td>
    <td>-77</td>
    <td>-76</td>
    <td>-75</td>
    <td>-80</td>
  </tr>
  <tr>
    <td>6</td>
    <td>-74</td>
    <td>-73</td>
    <td>-72</td>
    <td>-67</td>
    <td>-66</td>
    <td>-65</td>
    <td>-70</td>
  </tr>
  <tr>
    <td>7</td>
    <td>-64</td>
    <td>-63</td>
    <td>-62</td>
    <td>-57</td>
    <td>-56</td>
    <td>-55</td>
    <td>-60</td>
  </tr>
  <tr>
    <td>8</td>
    <td>-54</td>
    <td>-53</td>
    <td>-52</td>
    <td>-47</td>
    <td>-46</td>
    <td>-45</td>
    <td>-50</td>
  </tr>
  <tr>
    <td>9</td>
    <td>-44</td>
    <td>-43</td>
    <td>-42</td>
    <td>-37</td>
    <td>-36</td>
    <td>-35</td>
    <td>-40</td>
  </tr>
  <tr>
    <td>10</td>
    <td>-34</td>
    <td>-33</td>
    <td>-32</td>
    <td>-27</td>
    <td>-26</td>
    <td>-25</td>
    <td>-30</td>
  </tr>
  <tr>
    <td>11</td>
    <td>-24</td>
    <td>-23</td>
    <td>-22</td>
    <td>-17</td>
    <td>-16</td>
    <td>-15</td>
    <td>-20</td>
  </tr>
  <tr>
    <td>12</td>
    <td>-14</td>
    <td>-13</td>
    <td>-12</td>
    <td>-7</td>
    <td>-6</td>
    <td>-5</td>
    <td>-10</td>
  </tr>
  <tr>
    <td>13</td>
    <td>-4</td>
    <td>-3</td>
    <td>-2</td>
    <td>3</td>
    <td>4</td>
    <td>5</td>
    <td>1</td>
  </tr>
  <tr>
    <td>14</td>
    <td>6</td>
    <td>7</td>
    <td>8</td>
    <td>13</td>
    <td>14</td>
    <td>15</td>
    <td>11</td>
  </tr>
  <tr>
    <td>15</td>
    <td>16</td>
    <td>17</td>
    <td>18</td>
    <td>23</td>
    <td>24</td>
    <td>25</td>
    <td>21</td>
  </tr>
  <tr>
    <td>16</td>
    <td>26</td>
    <td>27</td>
    <td>28</td>
    <td>33</td>
    <td>34</td>
    <td>35</td>
    <td>31</td>
  </tr>
  <tr>
    <td>17</td>
    <td>36</td>
    <td>37</td>
    <td>38</td>
    <td>43</td>
    <td>44</td>
    <td>45</td>
    <td>41</td>
  </tr>
  <tr>
    <td>18</td>
    <td>46</td>
    <td>47</td>
    <td>48</td>
    <td>53</td>
    <td>54</td>
    <td>55</td>
    <td>51</td>
  </tr>
  <tr>
    <td>19</td>
    <td>56</td>
    <td>57</td>
    <td>58</td>
    <td>63</td>
    <td>64</td>
    <td>65</td>
    <td>61</td>
  </tr>
  <tr>
    <td>20</td>
    <td>66</td>
    <td>67</td>
    <td>68</td>
    <td>73</td>
    <td>74</td>
    <td>75</td>
    <td>71</td>
  </tr>
  <tr>
    <td>21</td>
    <td>76</td>
    <td>77</td>
    <td>78</td>
    <td>83</td>
    <td>84</td>
    <td>85</td>
    <td>81</td>
  </tr>
  <tr>
    <td>22</td>
    <td>86</td>
    <td>87</td>
    <td>88</td>
    <td>93</td>
    <td>94</td>
    <td>95</td>
    <td>91</td>
  </tr>
  <tr>
    <td>23</td>
    <td>96</td>
    <td>97</td>
    <td>98</td>
    <td>103</td>
    <td>104</td>
    <td>105</td>
    <td>101</td>
  </tr>
  <tr>
    <td>24</td>
    <td>106</td>
    <td>107</td>
    <td>108</td>
    <td>113</td>
    <td>114</td>
    <td>115</td>
    <td>111</td>
  </tr>
  <tr>
    <td>25</td>
    <td>116</td>
    <td>117</td>
    <td>118</td>
    <td>123</td>
    <td>124</td>
    <td>125</td>
    <td>121</td>
  </tr>
  <tr>
    <td>26</td>
    <td>126</td>
    <td>127</td>
    <td>128</td>
    <td>133</td>
    <td>134</td>
    <td>135</td>
    <td>131</td>
  </tr>
</table>
The following mixes must be created to multiplex all switches unique configurations: 
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <tr class="headerrow">
    <td style="width: 240px;" colspan="5" width="220">Mix info</td>
    <td style="width: 120px;" colspan="3" width="120">Mix Output</td>
  </tr>
  <tr class="headerrow">
    <td width="58">Number</td>
    <td width="48">Switch</td>
    <td width="35">High</td>
    <td width="32">Low</td>
    <td width="46">Offset</td>
    <td width="39"></td>
    <td width="39">1</td>
    <td width="39">2</td>
  </tr>
  <tr>
    <td></td>
    <td>A</td>
    <td>-10</td>
    <td>-10</td>
    <td></td>
    <td>-10</td>
    <td></td>
    <td>10</td>
  </tr>
  <tr>
    <td>1</td>
    <td>B</td>
    <td>-30</td>
    <td>-30</td>
    <td></td>
    <td>-30</td>
    <td></td>
    <td>30</td>
  </tr>
  <tr>
    <td>2</td>
    <td>C</td>
    <td>-90</td>
    <td>-90</td>
    <td></td>
    <td>-90</td>
    <td></td>
    <td>90</td>
  </tr>
</table>
<p class="pleasenote">
  Note that only 3 mix is required for multiplexing three 3-position switches. Mixes are also centered around 0 (instead of starting at -150).
</p>
<p>As you can see, the sum of all combined mixes matches the middle section of each effective block:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <colgroup> <col span="8" /> </colgroup> <tr class="headerrow">
    <td style="width: 64px;" rowspan="2" width="64">Block Number</td>
    <td style="width: 120px;" colspan="3" width="60">Switches</td>
    <td style="width: 160px;" colspan="4" width="60">Mixes</td>
  </tr>
  <tr class="headerrow">
    <td>C</td>
    <td>B</td>
    <td>A</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>Sum</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-10</td>
    <td>-30</td>
    <td>-90</td>
    <td>-130</td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-30</td>
    <td>-90</td>
    <td>-120</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td></td>
    <td>2</td>
    <td>10</td>
    <td>-30</td>
    <td>-90</td>
    <td>-110</td>
  </tr>
  <tr>
    <td>3</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-10</td>
    <td></td>
    <td>-90</td>
    <td>-100</td>
  </tr>
  <tr>
    <td>4</td>
    <td></td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-90</td>
    <td>-90</td>
  </tr>
  <tr>
    <td>5</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>10</td>
    <td></td>
    <td>-90</td>
    <td>-80</td>
  </tr>
  <tr>
    <td>6</td>
    <td></td>
    <td>2</td>
    <td></td>
    <td>-10</td>
    <td>30</td>
    <td>-90</td>
    <td>-70</td>
  </tr>
  <tr>
    <td>7</td>
    <td></td>
    <td>2</td>
    <td>1</td>
    <td></td>
    <td>30</td>
    <td>-90</td>
    <td>-60</td>
  </tr>
  <tr>
    <td>8</td>
    <td></td>
    <td>2</td>
    <td>2</td>
    <td>10</td>
    <td>30</td>
    <td>-90</td>
    <td>-50</td>
  </tr>
  <tr>
    <td>9</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-10</td>
    <td>-30</td>
    <td></td>
    <td>-40</td>
  </tr>
  <tr>
    <td>10</td>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-30</td>
    <td></td>
    <td>-30</td>
  </tr>
  <tr>
    <td>11</td>
    <td>1</td>
    <td></td>
    <td>2</td>
    <td>10</td>
    <td>-30</td>
    <td></td>
    <td>-20</td>
  </tr>
  <tr>
    <td>12</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>-10</td>
    <td></td>
    <td></td>
    <td>-10</td>
  </tr>
  <tr>
    <td>13</td>
    <td>1</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr>
    <td>14</td>
    <td>1</td>
    <td>1</td>
    <td>2</td>
    <td>10</td>
    <td></td>
    <td></td>
    <td>10</td>
  </tr>
  <tr>
    <td>15</td>
    <td>1</td>
    <td>2</td>
    <td></td>
    <td>-10</td>
    <td>30</td>
    <td></td>
    <td>20</td>
  </tr>
  <tr>
    <td>16</td>
    <td>1</td>
    <td>2</td>
    <td>1</td>
    <td></td>
    <td>30</td>
    <td></td>
    <td>30</td>
  </tr>
  <tr>
    <td>17</td>
    <td>1</td>
    <td>2</td>
    <td>2</td>
    <td>10</td>
    <td>30</td>
    <td></td>
    <td>40</td>
  </tr>
  <tr>
    <td>18</td>
    <td>2</td>
    <td></td>
    <td></td>
    <td>-10</td>
    <td>-30</td>
    <td>90</td>
    <td>50</td>
  </tr>
  <tr>
    <td>19</td>
    <td>2</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-30</td>
    <td>90</td>
    <td>60</td>
  </tr>
  <tr>
    <td>20</td>
    <td>2</td>
    <td></td>
    <td>2</td>
    <td>10</td>
    <td>-30</td>
    <td>90</td>
    <td>70</td>
  </tr>
  <tr>
    <td>21</td>
    <td>2</td>
    <td>1</td>
    <td></td>
    <td>-10</td>
    <td></td>
    <td>90</td>
    <td>80</td>
  </tr>
  <tr>
    <td>22</td>
    <td>2</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>90</td>
    <td>90</td>
  </tr>
  <tr>
    <td>23</td>
    <td>2</td>
    <td>1</td>
    <td>2</td>
    <td>10</td>
    <td></td>
    <td>90</td>
    <td>100</td>
  </tr>
  <tr>
    <td>24</td>
    <td>2</td>
    <td>2</td>
    <td></td>
    <td>-10</td>
    <td>30</td>
    <td>90</td>
    <td>110</td>
  </tr>
  <tr>
    <td>25</td>
    <td>2</td>
    <td>2</td>
    <td>1</td>
    <td></td>
    <td>30</td>
    <td>90</td>
    <td>120</td>
  </tr>
  <tr>
    <td>26</td>
    <td>2</td>
    <td>2</td>
    <td>2</td>
    <td>10</td>
    <td>30</td>
    <td>90</td>
    <td>130</td>
  </tr>
</table>
Use the 
<pre><code>[ Cheat Sheet for Multiplexing three 3-position switches (339 downloads) ](http://www.end2endzone.com/download/1484/ &quot;Version 1.0&quot;) for calculating all block offset when multiplexing three 3-position switches. 
</code></pre>
<h2 id="decoding">Decoding</h2>
<p>Decoding the switches configuration is relatively easy: First identify the block number matching the signal&rsquo;s value using a sequence of &quot;</p>
<p><em>if</em>&quot; statements. Then, update switches state based on the currently selected block. Refer to tables above for offsets &amp; switches states for each selected block.</p>
<p class="pleasenote">
  Note that if you get a signal value that is within the dead zone, it probably means that you have an issue with your transmitter mixes. Verify your mixes and try again.
</p>
<p>Since reading switches states does not imply any analog value, you do not really care if the signal value is within the effective area (or not) so clamping is not necessary beside detecting instability issue in the signal. However, in the low probability that you get a signal within a dead zone, then the first dead zone should be considered as if you read the first value of the effective area and the last dead zone as the last value of the effective area.</p>
<h3 id="required-libraries">Required Libraries</h3>
<p><a href="https://github.com/GreyGnome/PinChangeInt">PinChangeInt </a>This library allows the arduino to attach interrupts on multiple pins. <a href="http://www.electricrcaircraftguy.com/2014/02/Timer2Counter-more-precise-Arduino-micros-function.html">eRCaGuy_Timer2_Counter </a>(optional) This library configures the arduino&rsquo;s timer2 to 0.5¬µs precision. It is used for a <em>micros()</em> function replacement and allows times calculations that are far more precise (8 times!) than the default&rsquo;s 4¬µs resolution.</p>
<h3 id="code-sample">Code sample</h3>
<p>The following arduino code (*.ino) can be used to demultiplex the three scenarios above:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">//Using RcReceiverSignal v1.1.203
</span></span></span><span class="line"><span class="cl"><span class="c1">//required to read the receiver&#39;s value
</span></span></span><span class="line"><span class="cl"><span class="c1">//available at http://www.end2endzone.com/rcreceiversignal-an-arduino-library-for-retreiving-the-rc-transmitter-value-from-an-rc-receiver-pulse/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;RcReceiverSignal.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//Using PinChangeInt version 2402
</span></span></span><span class="line"><span class="cl"><span class="c1">//RcReceiverSignal library has a dependency to PinChangeInt library.
</span></span></span><span class="line"><span class="cl"><span class="c1">//available at http://code.google.com/p/arduino-pinchangeint/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;PinChangeInt.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//Using eRCaGuy_Timer2_Counter version 20140709 (last updated 9 July 2014)
</span></span></span><span class="line"><span class="cl"><span class="c1">//Required to have a micros() replacement function which has a 
</span></span></span><span class="line"><span class="cl"><span class="c1">//1us resolution instead of 4usec.
</span></span></span><span class="line"><span class="cl"><span class="c1">//For more information on this library, see the following:
</span></span></span><span class="line"><span class="cl"><span class="c1">// http://electricrcaircraftguy.com/2014/02/Timer2Counter-more-precise-Arduino-micros-function.html
</span></span></span><span class="line"><span class="cl"><span class="c1">// http://www.instructables.com/id/How-to-get-an-Arduino-micros-function-with-05us-pr/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;eRCaGuy_Timer2_Counter.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//project&#39;s constants
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define RECEIVER_AUX1_IN_PIN 2 </span><span class="c1">// we could choose any pin
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//project&#39;s switches
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define ENABLE_SERIAL_OUTPUT
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//*****************************************************************************
</span></span></span><span class="line"><span class="cl"><span class="c1">//  TODO: UNCOMMENT ONE OF THE FOLLOWING:
</span></span></span><span class="line"><span class="cl"><span class="c1">//****************************************************************************/
</span></span></span><span class="line"><span class="cl"><span class="c1">//#define _4X2POS
</span></span></span><span class="line"><span class="cl"><span class="c1">//#define _3X2POS1X3POS
</span></span></span><span class="line"><span class="cl"><span class="c1">//#define _3X3POS
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="n">DECLARE_RECEIVER_SIGNAL</span><span class="p">(</span><span class="n">receiver_aux1_handler</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">inline</span> <span class="kt">short</span> <span class="nf">clamp</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iMin</span><span class="p">,</span> <span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iValue</span><span class="p">,</span> <span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iMax</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">iValue</span> <span class="o">&lt;</span> <span class="n">iMin</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">iMin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">iValue</span> <span class="o">&gt;</span> <span class="n">iMax</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">iMax</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">iValue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">demultiplex4x2Pos</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iSignal</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchA</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchB</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchC</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchD</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#define setSwitches(d,c,b,a) oSwitchA=(a==1); oSwitchB=(b==1); oSwitchC=(c==1); oSwitchD=(d==1);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>       <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">141</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">140</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">131</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">130</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">121</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">120</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">111</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">110</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">101</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">100</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">91</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">90</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">81</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">80</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">71</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">70</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">61</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">51</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">50</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">41</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">40</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">31</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">30</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">21</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">20</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">11</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>    <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>     <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">setSwitches</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#undef setSwitches
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">demultiplex3x2Pos1x3Pos</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iSignal</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oSwitchA</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchB</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchC</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitchD</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#define setSwitches(d,c,b,a) oSwitchA=a; oSwitchB=(b==1); oSwitchC=(c==1); oSwitchD=(d==1);
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>       <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">141</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">140</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">131</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">130</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">121</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">120</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">111</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">110</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">101</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">100</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">91</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">90</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">81</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">80</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">71</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">70</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">61</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">51</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">50</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">41</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">40</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">31</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">30</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">21</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">20</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">11</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">10</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="o">-</span><span class="mi">1</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>    <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>     <span class="mi">9</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">10</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">19</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">20</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">29</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">30</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">39</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">40</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">49</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">50</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">59</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">60</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">69</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">70</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">79</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">80</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">89</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">setSwitches</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#undef setSwitches
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">demultiplex3x3Pos</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iSignal</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oSwitchA</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oSwitchB</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oSwitchC</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#define setSwitches(c,b,a) oSwitchA=a; oSwitchB=b; oSwitchC=c;
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>       <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">134</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">125</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">124</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">115</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">114</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">105</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">104</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">95</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">94</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">85</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">84</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">75</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">74</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">65</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">64</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">55</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">54</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">45</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">44</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">35</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">34</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">25</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">24</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="o">-</span><span class="mi">15</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">14</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="o">-</span><span class="mi">5</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="o">-</span><span class="mi">4</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>     <span class="mi">5</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>    <span class="mi">6</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">15</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">16</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">25</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">26</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">35</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">36</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">45</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">46</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">55</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">56</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">65</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">66</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">75</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">76</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">85</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">86</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>    <span class="mi">95</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">96</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">105</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="mi">106</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">115</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="mi">116</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">125</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="mi">126</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">135</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">setSwitches</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#undef setSwitches
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">uint32_t</span> <span class="nf">timer2GetCountWrapperFunction</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">timer2</span><span class="p">.</span><span class="n">get_count</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//configure Timer2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">timer2</span><span class="p">.</span><span class="n">setup</span><span class="p">();</span> <span class="c1">//this MUST be done before the other Timer2_Counter functions work; Note: since this messes up PWM outputs on pins 3 &amp; 11, as well as 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="c1">//interferes with the tone() library (http://arduino.cc/en/reference/tone), you can always revert Timer2 back to normal by calling 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="c1">//timer2.unsetup()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="c1">//configure RcReceiverSignal with an external time counter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//eRCaGuy_Timer2_Counter lirary has 0.5us resolution.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//The counter value must be divided by 2 to convert from 0.5us steps to 1us steps
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//which results in microseconds resolution.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setExternalTimeCounter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">timer2GetCountWrapperFunction</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//link RcReceiverSignal to use PinChangeInt library
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setAttachInterruptFunction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">PCintPort</span><span class="o">::</span><span class="n">attachInterrupt</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setPinStatePointer</span><span class="p">(</span><span class="o">&amp;</span><span class="n">PCintPort</span><span class="o">::</span><span class="n">pinState</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="cp">#ifdef ENABLE_SERIAL_OUTPUT
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&#34;ready&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">  <span class="n">receiver_aux1_handler_setup</span><span class="p">(</span><span class="n">RECEIVER_AUX1_IN_PIN</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//detect when the receiver AUX1 value has changed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">hasChanged</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pwmValue</span> <span class="o">=</span> <span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">getPwmValue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">VALUE</span> <span class="n">signal</span> <span class="o">=</span> <span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">getSignalValue</span><span class="p">(</span><span class="n">pwmValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cp">#ifdef _4X2POS
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="kt">bool</span> <span class="n">switchA</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchB</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchC</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchD</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">demultiplex4x2Pos</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">switchA</span><span class="p">,</span> <span class="n">switchB</span><span class="p">,</span> <span class="n">switchC</span><span class="p">,</span> <span class="n">switchD</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//print switches state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">sprintf</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="s">&#34;PWM=%04d s=%04d  A=%d B=%d C=%d D=%d&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pwmValue</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">signal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchA</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchB</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchC</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchD</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif 
</span></span></span><span class="line"><span class="cl"><span class="cp">#ifdef _3X2POS1X3POS
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">switchA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchB</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchC</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switchD</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">demultiplex3x2Pos1x3Pos</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">switchA</span><span class="p">,</span> <span class="n">switchB</span><span class="p">,</span> <span class="n">switchC</span><span class="p">,</span> <span class="n">switchD</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//print switches state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">sprintf</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="s">&#34;PWM=%04d s=%04d  A=%d B=%d C=%d D=%d&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pwmValue</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">signal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchA</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchB</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchC</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchD</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp">#ifdef _3X3POS
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">switchA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">switchB</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">switchC</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">demultiplex3x3Pos</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">switchA</span><span class="p">,</span> <span class="n">switchB</span><span class="p">,</span> <span class="n">switchC</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//print switches state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">sprintf</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="s">&#34;PWM=%04d s=%04d  A=%d B=%d C=%d&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pwmValue</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">signal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchA</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchB</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switchC</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
<h3 id="sample-data">Sample data</h3>
<table>
  <thead>
      <tr>
          <th><!-- --></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-4x-2-position-switches-Data-Capture-Sample.png" title="Demultiplexing four 2-position switches : Sample data"><img src="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-4x-2-position-switches-Data-Capture-Sample.png" alt="Demultiplexing four 2-position switches : Sample data"></a><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-4x-2-position-switches-Data-Capture-Sample.png">559x527</a></td>
      </tr>
      <tr>
          <td><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png" title="Demultiplexing a 3-Position and three 2-Position switches : Sample data"><img src="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png" alt="Demultiplexing a 3-Position and three 2-Position switches : Sample data"></a><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png">539x520</a></td>
      </tr>
      <tr>
          <td><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-3-Position-switches-Data-Capture-Sample.png" title="Demultiplexing three 3-Position switches : Sample data"><img src="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-3-Position-switches-Data-Capture-Sample.png" alt="Demultiplexing three 3-Position switches : Sample data"></a><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-3x-3-Position-switches-Data-Capture-Sample.png">533x514</a></td>
      </tr>
  </tbody>
</table>
<h1 id="multiplexing-an-analog-input-and-switches">Multiplexing an analog input and switches</h1>
<h2 id="design-1">Design</h2>
<p>Including an analog value (usually a rotating knob) into the multiplexed signal is also possible. However, only a single analog value can be multiplexed.</p>
<p class="pleasenote">
  Please note that including an analog value reduces the number of switches that can be multiplexed into the signal.
</p>
<h2 id="define-resolution">Define resolution</h2>
<p>Defining the resolution of the analog value means that you must choose the granularity of the value. By default the analog value has at least 200 different values and ranges from -100% to +100%. Since you also want to multiplex switches into the same signal, the resolution must be reduced from 200 different values to a lot less. To support a desired resolution, multiple blocks will need to be sacrificed. I do recommend a resolution of 40 steps (with values from 0 to 39) which is a nice resolution to allow enough details and can also be subdivided into other zones.</p>
<h2 id="whats-different">What&rsquo;s different</h2>
<p>The design for including an analog value is different than having only switches.</p>
<h3 id="block-size-1">Block size</h3>
<p>Block size must be increased to allow the desired resolution. The higher the resolution, the less switches you can multiplex. The block size must be big enough to fit both dead zones and the desired resolution.</p>
<h3 id="dead-zone-1">Dead zone</h3>
<p>A dead zone of 3 steps is also suggested. For instance, to support a resolution of 40 different steps, the block size must be of 46 steps (3+40+3=46). The following table shows the signal range and the middle of the effective area for each block. It is calculated using a block size of 46 steps and a dead zone of 3 steps which makes the effective block size to 40 steps:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <colgroup> <col span="7" /> </colgroup> <tr class="headerrow">
    <td rowspan="2">Block Number</td>
    <td colspan="6">Block Offsets</td>
  </tr>
  <tr class="headerrow">
    <td colspan="2" width="80">Dead</td>
    <td colspan="2" width="80">Effective</td>
    <td colspan="2" width="80">Dead</td>
  </tr>
  <tr>
    <td></td>
    <td>-150</td>
    <td>-148</td>
    <td>-147</td>
    <td>-108</td>
    <td>-107</td>
    <td>-105</td>
  </tr>
  <tr>
    <td>1</td>
    <td>-104</td>
    <td>-102</td>
    <td>-101</td>
    <td>-62</td>
    <td>-61</td>
    <td>-59</td>
  </tr>
  <tr>
    <td>2</td>
    <td>-58</td>
    <td>-56</td>
    <td>-55</td>
    <td>-16</td>
    <td>-15</td>
    <td>-13</td>
  </tr>
  <tr>
    <td>3</td>
    <td>-12</td>
    <td>-10</td>
    <td>-9</td>
    <td>30</td>
    <td>31</td>
    <td>33</td>
  </tr>
  <tr>
    <td>4</td>
    <td>34</td>
    <td>36</td>
    <td>37</td>
    <td>76</td>
    <td>77</td>
    <td>79</td>
  </tr>
  <tr>
    <td>5</td>
    <td>80</td>
    <td>82</td>
    <td>83</td>
    <td>122</td>
    <td>123</td>
    <td>125</td>
  </tr>
</table>
<div class="pleasenote">
  Note that only 6 blocks can be defined using a block size of 46 steps. These blocks only allows 2 sub configurations for multiplexing switches: 
<ul>
<li>2-position switch + 3-position switch
<ul>
<li>Two 2-position switches</li>
</ul>
</li>
</ul>
</div>
<h2 id="mixes-1">Mixes</h2>
<p>When multiplexing an analog value, mixes do not have to target the middle of the block&rsquo;s effective zone (as with switches) since the signal&rsquo;s value can move within the whole effective area of the block. Assuming the first configuration (2-pos + 3-pos), the following mixes must be created to multiplex all switches unique configurations:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <colgroup> <col /> <col /> <col /> <col /> <col /> <col span="3" /> </colgroup> <tr class="headerrow">
    <td style="width: 240px;" colspan="5">Mix info</td>
    <td style="width: 120px;" colspan="3">Mix Output</td>
  </tr>
  <tr class="headerrow">
    <td>Number</td>
    <td>Switch</td>
    <td>High</td>
    <td>Low</td>
    <td>Offset</td>
    <td></td>
    <td>1</td>
    <td>2</td>
  </tr>
  <tr>
    <td></td>
    <td>RKnob</td>
    <td>-74</td>
    <td></td>
    <td>-99</td>
    <td>-147</td>
    <td>-73</td>
    <td></td>
  </tr>
  <tr>
    <td>1</td>
    <td>RKnob</td>
    <td></td>
    <td>54</td>
    <td>100</td>
    <td></td>
    <td>-54</td>
    <td>-108</td>
  </tr>
  <tr>
    <td>2</td>
    <td>A</td>
    <td></td>
    <td>-69</td>
    <td>100</td>
    <td></td>
    <td></td>
    <td>138</td>
  </tr>
  <tr>
    <td>3</td>
    <td>B</td>
    <td></td>
    <td>-46</td>
    <td>100</td>
    <td></td>
    <td>46</td>
    <td>92</td>
  </tr>
</table>
<p class="pleasenote">
  Note that first 2 mix are mapped to the right knob to reach the effective range of the first block (-147% to -108%). Switch B is a 3-position switch and offsets the analog range between block 0 to 2. Then the 3rd mix, assigned to Switch A (2-position), offsets the 3 effective block of switch B to block 0-2 or 3-5.
</p>
<p>As you can see, the sum of all combined mixes matches the middle section of each effective block:</p>
<table class="generictable" border="0" cellspacing="0" cellpadding="0">
  <colgroup> <col /> <col span="2" /> <col /> <col span="5" /> </colgroup> <tr class="headerrow">
    <td style="width: 64px;" rowspan="2">Block Number</td>
    <td style="width: 100px;" colspan="3">Switches</td>
    <td style="width: 160px;" colspan="5">Mixes</td>
  </tr>
  <tr class="headerrow">
    <td>A</td>
    <td>B</td>
    <td>RKnob</td>
    <td></td>
    <td>1</td>
    <td>2</td>
    <td>3</td>
    <td>Sum</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td></td>
    <td></td>
    <td>-147</td>
  </tr>
  <tr>
    <td></td>
    <td></td>
    <td></td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td></td>
    <td></td>
    <td>-108</td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td></td>
    <td>46</td>
    <td>-101</td>
  </tr>
  <tr>
    <td>1</td>
    <td></td>
    <td>1</td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td></td>
    <td>46</td>
    <td>-62</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td>2</td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td></td>
    <td>92</td>
    <td>-55</td>
  </tr>
  <tr>
    <td>2</td>
    <td></td>
    <td>2</td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td></td>
    <td>92</td>
    <td>-16</td>
  </tr>
  <tr>
    <td>3</td>
    <td>1</td>
    <td></td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td>138</td>
    <td></td>
    <td>-9</td>
  </tr>
  <tr>
    <td>3</td>
    <td>1</td>
    <td></td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td>138</td>
    <td></td>
    <td>30</td>
  </tr>
  <tr>
    <td>4</td>
    <td>1</td>
    <td>1</td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td>138</td>
    <td>46</td>
    <td>37</td>
  </tr>
  <tr>
    <td>4</td>
    <td>1</td>
    <td>1</td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td>138</td>
    <td>46</td>
    <td>76</td>
  </tr>
  <tr>
    <td>5</td>
    <td>1</td>
    <td>2</td>
    <td></td>
    <td>-147</td>
    <td></td>
    <td>138</td>
    <td>92</td>
    <td>83</td>
  </tr>
  <tr>
    <td>5</td>
    <td>1</td>
    <td>2</td>
    <td>40</td>
    <td></td>
    <td>-108</td>
    <td>138</td>
    <td>92</td>
    <td>122</td>
  </tr>
</table>
Use the 
<pre><code>[ Cheat Sheet for Multiplexing an Analog Knob with a 2-position and a 3-position switch (309 downloads) ](http://www.end2endzone.com/download/1510/ &quot;Version 1.0&quot;) for calculating all block offset when multiplexing an analog value with a 2-position and a 3-position switch. 
</code></pre>
<h2 id="decoding-1">Decoding</h2>
<p>Decoding an analog value with switches configuration is different: First identify the block number matching the signal&rsquo;s value using a sequence of &ldquo;if&rdquo; statements. Then</p>
<p><a href="https://www.google.com/?q=clamp&#43;integer&#43;c%2B%2B">clamp</a> the value within the effective block area. This is required since the signal can get close to a dead zone (or even reach a dead zone!). To get the actual analog value, you must also offset the block&rsquo;s effective range to get a constant 0-39 range. Finally, update switches state based on the currently selected block. Refer to tables above for offsets &amp; switches states for each selected block.</p>
<p class="pleasenote">
  Note that reading a value (with the micro-controller) that is outside the analog effective area should be considered the same as reading an analog value of 0 or 39 depending on the closest dead zone.
</p>
<h3 id="code-sample-1">Code sample</h3>
<p>The following arduino code (*.ino) can be used to demultiplex the scenario above:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">//Using RcReceiverSignal v1.1.203
</span></span></span><span class="line"><span class="cl"><span class="c1">//required to read the receiver&#39;s value
</span></span></span><span class="line"><span class="cl"><span class="c1">//available at http://www.end2endzone.com/rcreceiversignal-an-arduino-library-for-retreiving-the-rc-transmitter-value-from-an-rc-receiver-pulse/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;RcReceiverSignal.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//Using PinChangeInt version 2402
</span></span></span><span class="line"><span class="cl"><span class="c1">//RcReceiverSignal library has a dependency to PinChangeInt library.
</span></span></span><span class="line"><span class="cl"><span class="c1">//available at http://code.google.com/p/arduino-pinchangeint/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;PinChangeInt.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//Using eRCaGuy_Timer2_Counter version 20140709 (last updated 9 July 2014)
</span></span></span><span class="line"><span class="cl"><span class="c1">//Required to have a micros() replacement function which has a 
</span></span></span><span class="line"><span class="cl"><span class="c1">//1us resolution instead of 4usec.
</span></span></span><span class="line"><span class="cl"><span class="c1">//For more information on this library, see the following:
</span></span></span><span class="line"><span class="cl"><span class="c1">// http://electricrcaircraftguy.com/2014/02/Timer2Counter-more-precise-Arduino-micros-function.html
</span></span></span><span class="line"><span class="cl"><span class="c1">// http://www.instructables.com/id/How-to-get-an-Arduino-micros-function-with-05us-pr/
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&lt;eRCaGuy_Timer2_Counter.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//project&#39;s constants
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define RECEIVER_AUX1_IN_PIN 2 </span><span class="c1">// we could choose any pin
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">//project&#39;s switches
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define ENABLE_SERIAL_OUTPUT
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="n">DECLARE_RECEIVER_SIGNAL</span><span class="p">(</span><span class="n">receiver_aux1_handler</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">inline</span> <span class="kt">short</span> <span class="nf">clamp</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iMin</span><span class="p">,</span> <span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iValue</span><span class="p">,</span> <span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iMax</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">iValue</span> <span class="o">&lt;</span> <span class="n">iMin</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">iMin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">iValue</span> <span class="o">&gt;</span> <span class="n">iMax</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">iMax</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">iValue</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">demultiplexAnalog40_1x2Pos1x3Pos</span><span class="p">(</span><span class="k">const</span> <span class="kt">short</span> <span class="o">&amp;</span> <span class="n">iSignal</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oAnalogA</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">&amp;</span> <span class="n">oSwitch2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">&amp;</span> <span class="n">oSwitch3</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#define setSwitches(effectiveMin,signal,effectiveMax,a,b) oAnalogA=clamp(effectiveMin,signal,effectiveMax) - (effectiveMin); oSwitch2=a; oSwitch3=b;
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>       <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">150</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">105</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="o">-</span><span class="mi">147</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span> <span class="o">-</span><span class="mi">108</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="o">-</span><span class="mi">104</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">59</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span> <span class="o">-</span><span class="mi">101</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span>  <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">58</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="o">-</span><span class="mi">13</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span>  <span class="o">-</span><span class="mi">55</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span>  <span class="o">-</span><span class="mi">16</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>  <span class="o">-</span><span class="mi">12</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">33</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span>   <span class="o">-</span><span class="mi">9</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span>   <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">34</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>   <span class="mi">79</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span>   <span class="mi">37</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span>   <span class="mi">76</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span>   <span class="mi">80</span> <span class="o">&lt;=</span> <span class="n">iSignal</span> <span class="o">&amp;&amp;</span> <span class="n">iSignal</span> <span class="o">&lt;=</span>  <span class="mi">125</span> <span class="p">)</span> <span class="p">{</span> <span class="n">setSwitches</span><span class="p">(</span>   <span class="mi">83</span> <span class="p">,</span><span class="n">iSignal</span><span class="p">,</span>  <span class="mi">122</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">else</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">setSwitches</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#undef setSwitches
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">uint32_t</span> <span class="nf">timer2GetCountWrapperFunction</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">timer2</span><span class="p">.</span><span class="n">get_count</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//configure Timer2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">timer2</span><span class="p">.</span><span class="n">setup</span><span class="p">();</span> <span class="c1">//this MUST be done before the other Timer2_Counter functions work; Note: since this messes up PWM outputs on pins 3 &amp; 11, as well as 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="c1">//interferes with the tone() library (http://arduino.cc/en/reference/tone), you can always revert Timer2 back to normal by calling 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>                  <span class="c1">//timer2.unsetup()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="c1">//configure RcReceiverSignal with an external time counter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//eRCaGuy_Timer2_Counter lirary has 0.5us resolution.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//The counter value must be divided by 2 to convert from 0.5us steps to 1us steps
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="c1">//which results in microseconds resolution.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setExternalTimeCounter</span><span class="p">(</span><span class="o">&amp;</span><span class="n">timer2GetCountWrapperFunction</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">//link RcReceiverSignal to use PinChangeInt library
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setAttachInterruptFunction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">PCintPort</span><span class="o">::</span><span class="n">attachInterrupt</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">setPinStatePointer</span><span class="p">(</span><span class="o">&amp;</span><span class="n">PCintPort</span><span class="o">::</span><span class="n">pinState</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="cp">#ifdef ENABLE_SERIAL_OUTPUT
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">115200</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&#34;ready&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#endif
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl">  <span class="n">receiver_aux1_handler_setup</span><span class="p">(</span><span class="n">RECEIVER_AUX1_IN_PIN</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">//detect when the receiver AUX1 value has changed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">if</span> <span class="p">(</span><span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">hasChanged</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pwmValue</span> <span class="o">=</span> <span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">getPwmValue</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">RcReceiverSignal</span><span class="o">::</span><span class="n">VALUE</span> <span class="n">signal</span> <span class="o">=</span> <span class="n">receiver_aux1_handler</span><span class="p">.</span><span class="n">getSignalValue</span><span class="p">(</span><span class="n">pwmValue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">char</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">analogA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">switch2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">switch3</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">demultiplexAnalog40_1x2Pos1x3Pos</span><span class="p">(</span><span class="n">signal</span><span class="p">,</span> <span class="n">analogA</span><span class="p">,</span> <span class="n">switch2</span><span class="p">,</span> <span class="n">switch3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//print switches state
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">sprintf</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="s">&#34;PWM=%04d s=%04d  analogA=%2d A=%d B=%d&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">pwmValue</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">signal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">analogA</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switch2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                      <span class="n">switch3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>
<h3 id="sample-data-1">Sample data</h3>
<table>
  <thead>
      <tr>
          <th><!-- --></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-Analog-Knob-with-1x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png" title="Demultiplexing an analog knob with a 2-Position and a 3-Position switch : Sample data"><img src="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-Analog-Knob-with-1x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png" alt="Demultiplexing an analog knob with a 2-Position and a 3-Position switch : Sample data"></a><a href="http://www.end2endzone.com/wp-content/uploads/2016/02/Multiplexing-Analog-Knob-with-1x-2-Position-and-1x-3-Position-switches-Data-Capture-Sample.png">498x510</a></td>
      </tr>
  </tbody>
</table>
      </div>
      <footer>
        <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/model-aeronautics/">Model Aeronautics</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/arduino/">arduino</a></li>
        
          <li><a class="article-terms-link" href="/tags/diy/">diy</a></li>
        
          <li><a class="article-terms-link" href="/tags/english/">english</a></li>
        
          <li><a class="article-terms-link" href="/tags/open-source/">open source</a></li>
        
          <li><a class="article-terms-link" href="/tags/rc/">RC</a></li>
        
          <li><a class="article-terms-link" href="/tags/rc-transmitter/">RC transmitter</a></li>
        
      
    </ul>
  
</div>

      </footer>
    </div>
    
      
  <div class='post'>
    
    <div>
      <h2 id='say-something'>Say Something</h2>
        <form id='comment-form' class='new-comment' method='POST'>
          
          <h3 class='reply-notice hidden'>
            <span class='reply-name'></span>
            <a class='reply-close-btn button'><i class='fas fa-times'></i></a>
          </h3>

          
          <input type='hidden' name='options[entryId]' value='690748b3943bd58f643ca86f6a859143'>
          <input type='hidden' name='fields[replyThread]' value=''>
          <input type='hidden' name='fields[replyID]' value=''>
          <input type='hidden' name='fields[replyName]' value=''>

          
          <input required name='fields[name]' type='text' placeholder='Your Name'>
          <input name='fields[website]' type='text' placeholder='Your Website'>
          <input required name='fields[email]' type='email' placeholder='Your Email'>
          <textarea required name='fields[body]' placeholder='Your Message' rows='10'></textarea>

          
          

          
          <div class='submit-notice'>
            <strong class='submit-notice-text submit-success hidden'>Thanks for your comment! It will be shown on the site once it has been approved.</strong>
            <strong class='submit-notice-text submit-failed hidden'>Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.</strong>
          </div>

          
          <button type='button' id="comment-form-submit" class='button'>Submit</button>
          <button type='button' id="comment-form-submitted" class='hidden button' disabled>Submitted</button>
          <button type='reset' id="comment-form-reset" class='button'>Reset</button>
        </form>
    </div>

    
    <div class='comments-container'>
      <h2>Comments</h2>
    </div>
  </div>


    
  </article>
  <div class="pagination">
    
      <a href="/libmidi-a-c-open-source-library-for-generating-single-tone-melodies-in-midi-format/" class="button left"><span>libMIDI ‚Äì A C&#43;&#43; open-source library for generating single tone melodies in MIDI format</span></a>
    
    
      <a href="/rcreceiversignal-an-arduino-library-for-retreiving-the-rc-transmitter-value-from-an-rc-receiver-pulse/" class="button right"><span>RcReceiverSignal: an arduino library for retrieving the RC Transmitter value from an RC Receiver pulse</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          <a href="/pidvr-record-over-the-air-tv-on-a-raspberry-pi-4/" class="image" style="--bg-image: url('/wp-content/uploads/2021/03/PiDVR-Record-over-the-air-TV-on-a-Raspberry-Pi-4.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2021/03/PiDVR-Record-over-the-air-TV-on-a-Raspberry-Pi-4.jpg" alt="">
  </a>
        <header>
          <h2><a href="/pidvr-record-over-the-air-tv-on-a-raspberry-pi-4/">PiDVR Record over the air TV on a Raspberry Pi 4</a></h2>
          <time class="published" datetime="2021-03-14 19:40:03 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/how-to-setup-macos-catalina-10-15-in-virtualbox-for-c-development-on-github/" class="image" style="--bg-image: url('/wp-content/uploads/2021/03/HOW-TO-SETUP-MACOS-CATALINA-10.15-IN-VIRTUALBOX-FOR-C-DEVELOPMENT-ON-GITHUB.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2021/03/HOW-TO-SETUP-MACOS-CATALINA-10.15-IN-VIRTUALBOX-FOR-C-DEVELOPMENT-ON-GITHUB.jpg" alt="">
  </a>
        <header>
          <h2><a href="/how-to-setup-macos-catalina-10-15-in-virtualbox-for-c-development-on-github/">How to setup macOS Catalina 10.15 in VirtualBox for C&#43;&#43; development on Github.</a></h2>
          <time class="published" datetime="2021-03-14 16:42:39 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/how-to-encode-command-line-parameters-on-windows-done-right/" class="image" style="--bg-image: url('/wp-content/uploads/2017/06/How-to-encode-command-line-parameters-on-Windows-done-right.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2017/06/How-to-encode-command-line-parameters-on-Windows-done-right.jpg" alt="">
  </a>
        <header>
          <h2><a href="/how-to-encode-command-line-parameters-on-windows-done-right/">How to encode command line parameters on Windows ‚Äì done right</a></h2>
          <time class="published" datetime="2021-03-14 14:49:47 &#43;0000 &#43;0000">March 14, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/libargvcodec-a-c-library-which-properly-encode-and-decode-command-line-arguments/" class="image" style="--bg-image: url('/wp-content/uploads/2017/06/libArgvCodec-cplusplus-library.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2017/06/libArgvCodec-cplusplus-library.jpg" alt="">
  </a>
        <header>
          <h2><a href="/libargvcodec-a-c-library-which-properly-encode-and-decode-command-line-arguments/">libArgvCodec ‚Äì A c&#43;&#43; library which properly encode and decode command line arguments</a></h2>
          <time class="published" datetime="2017-06-25 16:02:08 &#43;0000 &#43;0000">June 25, 2017</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/libvariant-a-c-library-which-encapsulate-any-value-of-variant-types/" class="image" style="--bg-image: url('/wp-content/uploads/2016/10/libVariant-cplusplus-library.jpg');">
    <img class="stretchV" src="/wp-content/uploads/2016/10/libVariant-cplusplus-library.jpg" alt="">
  </a>
        <header>
          <h2><a href="/libvariant-a-c-library-which-encapsulate-any-value-of-variant-types/">libVariant ‚Äì A c&#43;&#43; library which encapsulate any value of variant types</a></h2>
          <time class="published" datetime="2017-05-28 21:06:45 &#43;0000 &#43;0000">May 28, 2017</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/blog" class="button">See More</a>
        </footer>
      
    </section>
  

  
    

      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/photography/">photography<span class="count">28</span></a>
          
          <li>
              <a href="/categories/development/">development<span class="count">22</span></a>
          
          <li>
              <a href="/categories/model-aeronautics/">model aeronautics<span class="count">17</span></a>
          
          <li>
              <a href="/categories/other/">other<span class="count">9</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>Hey! I'm Antoine author of end2end zone. Take a couple of minutes to get to know me a little better.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        









































      </ul>
  
  <p class="copyright">
    ¬© 2021 end2end zone
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.147.9' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.9.0/highlightjs-line-numbers.min.js"></script>
    <script>
      hljs.configure({ ignoreUnescapedHTML: true }); 
      hljs.highlightAll();
      hljs.initLineNumbersOnLoad();
    </script><script src="/js/bundle.min.9e7dbf352c03c6e86c5b45f55a8c9b5428bc62afaeabdec82f9600e0590b3cee.js" integrity="sha256-nn2/NSwDxuhsW0X1WoybVCi8Yq&#43;uq97IL5YA4FkLPO4="></script>
    <script src="/js/add-on.js"></script>
    </div>
  </body>
</html>
